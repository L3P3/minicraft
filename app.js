const l=lui,ia=l.hook_callback,ja=l.hook_dom,p=l.hook_effect,ka=l.hook_memo,la=l.hook_reducer,ma=l.hook_rerender,v=l.hook_static,na=l.node,w=l.node_dom,oa=l.now,y=document,C=Math,D=C.PI,pa=.5*D,qa=180/D,J=C.floor,ra=C.round,sa=C.min,S=C.max,T=C.cos,U=C.sin,ta=C.pow,ua=JSON,va=localStorage,Ka=()=>!1,La=[()=>{const a={G:!0,P:3,B:10,T:80,L:64};var c=va.getItem("minicraft.config");if(c){c=ua.parse(c);let e=c.flag_textures;null!=e&&(a.G=e);null!=(e=c.mouse_sensitivity)&&(a.P=e);a.B=c.resolution_scaling;
a.T=c.view_angle;a.L=c.view_distance}return{i:a}},a=>{const c=a.i;va.setItem("minicraft.config",ua.stringify({version:"0.1.19",flag_textures:c.G,mouse_sensitivity:c.P,resolution_scaling:c.B,view_angle:c.T,view_distance:c.L}));return a},(a,c)=>Object.assign({},a,{i:Object.assign({},a.i,c)})],Ma=[0,7960953,5420927,3757176,8553090,5077911,4539717,31E5,2261551,8424632,14145495],Na="WEBTSN".split(""),Pa=()=>{const a={s:Oa(),ta:.5,ua:8.5,va:.5,h:6};for(var c=0;64>c;c+=2)a.s[(6<<a.h|c)<<a.h|0]=3,a.s[(6<<
a.h|0)<<a.h|c]=3;["X   XXX XXX XXX","X     X X X   X","X   XXX XXX XXX","X     X X     X","XXX XXX X   XXX"].forEach((e,b,k)=>{b=k.length-b;e.split("").forEach((u,h)=>{"X"===u&&(a.s[(6<<a.h|h+1)<<a.h|b]=6)})});for(c=0;c<Ma.length;++c)a.s[(7<<a.h|c)<<a.h|7]=c;return a},Oa=()=>{const a=new Uint8Array(262144),c=[6,1,1,3,3,3,2];for(let e=-1,b=0;b<c.length;++b){const k=c[b];for(let u=0;64>u;++u)for(let h=0;64>h;++h)a[++e]=k}return a};let Y=null,Z=new Image;
Z.onload=()=>{var a=y.createElement("canvas");const c=a.width=Z.width,e=a.height=Z.height;a=a.getContext("2d");a.drawImage(Z,0,0);Z=Y=new Uint32Array(a.getImageData(0,0,c,e).data.buffer)};Z.src="data:image/png;base64,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";
const Ra=(a,c)=>{const e={da:c,ka:null,la:null,ma:"",Y:!1,na:0,fa:0,ra:setInterval(()=>{e.na=e.fa;e.fa=0},1E3),o:a};Qa(e);return e},Qa=a=>{var c=a.da.width=a.o.ba,e=a.da.height=a.o.ca;a=(a.la=(a.ka=a.da.getContext("2d")).createImageData(c,e)).data;c=a.length;for(e=3;e<c;e+=4)a[e]=255},Sa=()=>{const a=Pa();return{i:null,X:!1,D:!1,l:!0,oa:null,ga:0,g:{N:0,U:0,O:0,u:0,V:0,W:0,v:0,j:-1,A:0,pa:9,Z:a.ta,$:a.ua,aa:a.va,H:0,J:0,K:0},m:null,ha:1,ia:1,ba:0,ca:0,qa:null,time:0,ja:0,M:a}},Ta=(a,c)=>{a.m=Ra(a,
c);a.qa=setInterval(()=>{a.l||(a.time=(a.time+1)%24E3,a.ja=1/24E3*(a.time+6E3)%1)},50)},Ua=(a,c,e)=>{if(e)switch(c){case -1:0<=a.g.j&&(c=a.M,c.s[(a.g.j<<c.h|a.g.v)<<c.h|a.g.A]=0);break;case -2:case 71:0<=a.g.j&&(c=a.M,e=a.g.j,a.g.pa=0>e||64<=e?0:c.s[(e<<c.h|a.g.v)<<c.h|a.g.A]);break;case -3:if(0<=a.g.j){e=a.g.v;let b=a.g.j,k=a.g.A;switch(a.g.W){case 0:--e;break;case 1:++e;break;case 2:--b;break;case 3:++b;break;case 4:--k;break;default:++k}0<=b&&64>b&&(c=a.M,c.s[(b<<c.h|e&(1<<a.M.h)-1)<<c.h|k&(1<<
a.M.h)-1]=a.g.pa)}break;case 27:a.l=a.D=!a.D;break;case 16:a.g.U=-.1;break;case 32:a.g.U=.1;break;case 65:a.g.N=-.1;break;case 68:a.g.N=.1;break;case 80:a.l=!a.l;break;case 83:a.g.O=-.1;break;case 87:a.g.O=.1;break;case 114:a.X=!a.X;break;default:return!0}else switch(c){case 16:case 32:a.g.U=0;break;case 65:case 68:a.g.N=0;break;case 83:case 87:a.g.O=0;break;default:return!0}return!1};
function Va({i:a,ea:c,o:e}){ja("div[className=menu]");return[w("h1[innerText=Men\u00fc]"),w("div[className=settings]",null,[w("button",{innerText:"Oberfl\u00e4chen: "+(a.G?"Texturiert":"Einfarbig"),onclick:ia(b=>{c(2,{G:!b})},[a.G])}),w("label[innerText=Aufl\u00f6sung:]",null,[w("input[type=range][min=1][max=100][step=1]",{value:101-a.B,onchange:v(b=>c(2,{B:101-Number(b.target.value)}))})]),w("label[innerText=Blickwinkel:]",null,[w("input[type=range][min=1][max=180][step=1]",{value:a.T,onchange:v(b=>
c(2,{T:Number(b.target.value)}))})]),w("label[innerText=Sichtweite:]",null,[w("input[type=range][min=1][max=128][step=1]",{value:a.L,onchange:v(b=>c(2,{L:Number(b.target.value)}))})]),w("label[innerText=Mausempfindlichkeit:]",null,[w("input[type=range][min=1][max=15][step=1]",{value:a.P,onchange:v(b=>c(2,{P:Number(b.target.value)}))})])]),w("div",null,[w("button[innerText=Zur\u00fcck]",{onclick:v(()=>(e.D=!1,e.oa.requestPointerLock()))})])]}
function Wa({i:a,ea:c,sa:e}){const b=ka(Sa),k=ja("div[className=game]",ka(()=>{const h=d=>b.D||(y.pointerLockElement===k?b.l||Ua(b,-1-d.button,"mousedown"===d.type):b.oa.requestPointerLock(),d.preventDefault(),!1);return{onmousedown:h,onmousemove:d=>{if(!b.l){const g=b.i.P*D/S(b.ha,b.ia);b.g.u=(b.g.u+d.movementX*g+100*D)%(2*D);b.g.V=S(-pa,sa(pa,b.g.V-d.movementY*g))}},onmouseup:h}})),u=y.pointerLockElement===k;p(()=>(b.oa=k,e.o=b,()=>{clearInterval(b.qa);clearInterval(b.m.ra);return e.o=null}));p(()=>
{b.i=a;b.m&&(b.m.Y=!0)},[a]);p((h,d)=>{b.ha=S(1,h);b.ia=S(1,d);d=b.i.B;h=S(1,ra(b.ha/d));d=S(1,ra(b.ia/d));if(h!==b.ba||d!==b.ca)b.ba=h,b.ca=d,b.m&&(b.m.Y=!0,Qa(b.m))},[k.offsetWidth,k.offsetHeight,a.B]);p(()=>{u||b.l||(b.D=!0);b.l=!u},[u]);p(h=>h&&u&&y.exitPointerLock(),[b.l]);p(h=>{if(b.ga&&!b.l){var d=b.g,g=sa(5,.01*(h-b.ga));d.H-=.1*d.H*g;d.J-=.1*d.J*g;d.K-=.1*d.K*g;d.H+=(T(d.u)*d.N+U(d.u)*d.O)*g;d.J+=d.U*g;d.K+=(-U(d.u)*d.N+T(d.u)*d.O)*g;d.Z+=d.H*g;d.$+=d.J*g;d.aa+=d.K*g}if(b.m){d=b.m;++d.fa;
const wa=d.la;g=d.o;const K=g.i,f=g.g,x=g.ba,z=g.ca,A=g.M;if(!g.l||d.Y){d.Y=!1;const E=wa.data,Xa=K.L;var L=f.u,M=f.V;const Ya=f.v,Za=f.j,$a=f.A,ab=A.s,aa=A.h,bb=K.G&&null!==Y,xa=1/x,ya=1/z,ba=x>>1,ca=z>>1,za=T(L);L=U(L);const Aa=T(-M);M=U(-M);var F=K.T/45;const cb=x<z?F*x*ya:F;F=z<x?F*z*xa:F;const Ba=f.Z+65536,Ca=f.$+65536,Da=f.aa+65536,db=Ba%1,eb=Ca%1,fb=Da%1,Ea=(1<<aa)-1;let Fa=5,B=f.v=f.A=f.W=0;f.j=-1;for(let V=0;V<z;++V){var N=(ca-V)*ya*F;const Ga=N*Aa-M;N=N*M+Aa;for(let W=0;W<x;++W){var O=(W-
ba)*xa*cb;const Ha=N*L+O*za;O=N*za-O*L;let P=16757124,X=1,Ia=Xa;for(let m=0;3>m;++m){let q=O;0===m&&(q=Ha);1===m&&(q=Ga);const G=1/(0>q?-q:q),da=Ha*G,ea=Ga*G,fa=O*G;var n=fb;0===m&&(n=db);1===m&&(n=eb);0<q&&(n=1-n);let H=Ba+da*n,Q=Ca+ea*n,I=Da+fa*n;n*=G;0===m&&(H+=.5-(0>q|0));1===m&&(Q+=.5-(0>q|0));2===m&&(I+=.5-(0>q|0));var r=void 0;let R,ha,t;for(;n<Ia;)if(0>(R=Q&65535)||64<=R||0===(t=ab[(R<<aa|(r=H&Ea))<<aa|(ha=I&Ea)]))H+=da,Q+=ea,I+=fa,n+=G;else{V===ca&&W===ba&&n<=Fa&&(f.v=r,f.j=R,f.A=ha,f.W=
0>q|m<<1,Fa=n);if(bb){--t;1===m?6===t?t=11:1===t&&0<q&&(t=2):1===t&&(t=10);const Ja=Y[(t<<8)+((16*(1===m?I:Q)&15)<<4)+(16*(1===m?H:H+I)&15)];if(0!==Ja>>>24)P=Ja&16777215;else{H+=da;Q+=ea;I+=fa;n+=G;continue}}else P=Ma[t];Ia=n;X=1-(m+2)%3*.2+(R!==Za||r!==Ya||ha!==$a?0:.1);break}}E[B]=(P&255)*X;E[++B]=(P>>8&255)*X;E[++B]=(P>>16)*X;B+=2}}E[B=x*ca+ba<<2]*=2;E[++B]*=2;E[++B]*=2;d.ka.putImageData(wa,0,0)}g.X?(0>f.j?r=0:(r=f.j,r=f.v+" "+f.j+" "+f.A+" "+Na[f.W]+": "+(0>r||64<=r?0:A.s[(r<<A.h|f.v)<<A.h|f.A])),
g="Minicraft 0.1.19 "+J(d.na).toString().padStart(2,"\u00a0")+" fps, T: "+J(24*g.ja).toString().padStart(2,"0")+":"+J(24*g.ja%1*60).toString().padStart(2,"0")+"; "+(g.l&&500>h%1E3?"":g.time)+"\nR: "+x+"x"+z+" (x"+K.B+"), D: "+K.L+", C: "+ta(1<<A.h-4,2)+", M: "+(64*ta(1<<A.h,2)>>10)+"k\nE: 0/0\n\nPosition: "+f.Z.toFixed(2)+" "+f.$.toFixed(2)+" "+f.aa.toFixed(2)+"\nAngle: "+(f.u*qa).toFixed(2)+" "+(f.V*qa).toFixed(2)+"\nBlock: "+r+"\nChunk: 0 0"):g="";d.ma=g}b.ga=h},[oa()]);ma();return[w("canvas",{R:v(h=>
Ta(b,h))}),b.m&&b.X&&w("div[className=diagnostics]",{innerText:b.m.ma}),b.D&&na(Va,{i:a,ea:c,o:b})]}l.init(()=>{const [a,c]=la(La),e=v({o:null});p(()=>{onbeforeunload=()=>{c(1)}});const b=v(k=>!e.o||Ua(e.o,k.keyCode,"keydown"===k.type)||(k.preventDefault(),!1));return[{onkeydown:b,onkeyup:b,oncontextmenu:Ka,wa:Ka},[na(Wa,{i:a.i,ea:c,sa:e})]]});
