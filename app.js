const w=lui,x=w.hook_dom,A=w.hook_effect,ba=w.hook_memo,ca=w.hook_model,da=w.hook_rerender,C=w.hook_static,ea=w.node,F=w.node_dom,fa=w.node_map,ha=w.now,ia=window,ma=document,H=Math,na=H.PI,oa=.5*na,pa=180/na,J=H.floor,va=H.ceil,wa=H.round,xa=H.min,K=H.max,ya=H.cos,za=H.sin,Aa=H.sqrt,Ba=String.fromCharCode,Ca=JSON,Ha=localStorage,Ia=Uint8Array,Ja=Uint32Array,Ka=Map,La=Number,Ma=setTimeout,Na=setInterval,Oa=clearTimeout,Pa=clearInterval,L=a=>a*a,Qa=()=>!1,Ra=({I:{time:a,value:c},Fa:g})=>(x("div",{innerText:c,
S:{opacity:xa(1,1-.001*(g-a-4500))}}),null);function Sa({G:a,Fa:c}){x("div[className=messages]");const g=c-5E3;return[fa(Ra,a.slice(-10).filter(b=>b.time>g),{Fa:c})]}
const Ta=[0,8487297,4305266,4349313,8092539,5342114,7039851,3561583,4172910,6384533,15526888,10671324,8092798,16447200,4151672,1970708,8092539,9686227,9126695,15198183,5567485,14541182,7920469,662956,14936813],Ua=Ta.length,Va="WEBTSN".split(""),Wa=(a,c,g)=>{a.H=(a.H+c+100*na)%(2*na);a.ga=K(-oa,xa(oa,a.ga+g))},Xa=a=>{a+=32;33<a&&39>a?a++:38<a&&44>a?a+=2:43<a&&127>a?a+=3:126<a&&55258>a?a+=37:55295<a&&(a+=8485);return Ba(a)},Ya=a=>a-(63743<a?8517:159<a?69:46<a&&130>a?35:40<a&&46>a?34:34<a&&40>a?33:32),
$a=()=>{var a=Za;const c=a.length,g=new Ka,b=r=>{q=q<<1|r&1;15===++n&&(k+=Xa(q),q=n=0)},e=()=>{for(let r=0;r<m;++r)b(0)},h=r=>{b(r);b(r>>1);b(r>>2);b(r>>3);b(r>>4);b(r>>5);b(r>>6);b(r>>7)},l=()=>{0===--u&&(u=1<<m++)},f=()=>{if(y)y=!1;else{let r=t.id;for(let G=0;G<m;G++)b(r>>G)}};let d=a[0],k="",q=0,n=2,m=2,u=2,v=2,t={id:v++,ia:new Ka},y=!0;h(d);g.set(d,t);for(let r=1;r<c;++r){const G=t.ia.get(d=a[r]);G?t=G:(f(),g.has(d)||(l(),e(),h(d),g.set(d,{id:v++,ia:new Ka}),y=!0),t.ia.set(d,{id:v++,ia:new Ka}),
t=g.get(d),l())}f();g.has(d)||(l(),e(),h(d));l();b(1);--m;e();return k+=Xa(q<<15-n)},ab=a=>{var c=Za;if(!a)return null;const g=a.length,b=()=>{n+=(v>>--t&1)<<m++;0===t&&(t=15,v=Ya(a.charCodeAt(u++)))};let e=[0,1],h=1,l=3,f=2,d=null;var k=null;let q=0,n=0;k=2;let m=0,u=0,v=Ya(a.charCodeAt(u++)),t=15;for(;m<k;)b();if(1===n)return null;for(n=m=0;8>m;)b();d=[n];e[2]=d;for(c[q++]=n;u<=g;){k=f;for(n=m=0;m<k;)b();if(0===n){for(n=m=0;8>m;)b();e[l]=[n];n=l++;0===--h&&(h=1<<f++)}else if(1===n)return c;k=n<
e.length?e[n]:d.concat(d[0]);for(let y=0;y<k.length;y++)c[q++]=k[y];e[l++]=d.concat(k[0]);d=k;0===--h&&(h=1<<f++)}return null},O=new Ja(1024),Za=new Ia(O.buffer),bb=new Ka,cb=(a,c,g,b,e)=>{const h=a.s;a.$[(c<<h+4|b)<<6|g]=e;a.K[(c>>4<<h|b>>4)<<2|g>>4].T=!0},qb=(a,c,g)=>{const b=K(xa(c.v,63),0)>>4,e=J(c.u)>>4;c=J(c.A)>>4;if(g||a.na!==b||a.ca+a.ma!==e||a.da+a.oa!==c)g=1<<a.s,a.na=b,a.ca=e-(a.ma=(65536+e)%g),a.da=c-(a.oa=(65536+c)%g),db(a);pb(a)},db=a=>{const c=a.ma,g=a.na,b=a.oa,e=a.s,h=`${e} ${c} ${b} ${g}`;
let l=bb.get(h);if(null==l){const f=1<<e,d=L(.5*f);bb.set(h,l=a.K.map(({x:k,y:q,z:n},m)=>{let u=L(k-c),v=L(n-b),t=L(k-c-f),y=0,r=0;t<u&&(u=t,y=-f);(t=L(k-c+f))<u&&(u=t,y=f);(t=L(n-b-f))<v&&(v=t,r=-f);(t=L(n-b+f))<v&&(v=t,r=f);return{xa:u+v+L(q-g),Ja:m,ca:y,da:r}}).filter(({xa:k})=>k<=d).sort((k,q)=>k.xa-q.xa))}a.ja=l;a.aa=0},sb=a=>{for(const c of a.K)c.T&&rb(a,c)},tb=(a,c,g,b)=>`minicraft.world.${a.id}:${c}/${g}`+(0<b?"/"+b:""),rb=(a,c)=>{const g=a.va;var b=a.s;const e=c.y,h=(256<<b)-256;for(let l=
0,f=-1,d=((c.x<<b+4|c.z)<<6|e)<<2;16>l;++l){for(b=0;16>b;++b)O[++f]=g[d],O[++f]=g[++d],O[++f]=g[++d],O[++f]=g[++d],d+=13;d+=h}Ha.setItem(tb(a,c.fa,c.sa,e),$a());c.T=!1},pb=a=>{var c=a.K,g=a.ja,b=a.ca;const e=a.da,h=g.length;for(;a.aa<h;){var l=g[a.aa++];const m=c[l.Ja];var f=m.loaded,d=m.x,k=m.y,q=m.z;const u=b+l.ca+d;l=e+l.da+q;if(!f||u!==m.fa||l!==m.sa){m.T&&rb(a,m);m.loaded=!0;var n=ab(Ha.getItem(tb(a,m.fa=u,m.sa=l,k)));if(f||0===k||n){c=a.va;b=a.s;g=(256<<b)-256;d=((d<<b+4|q)<<6|k)<<2;if(n)for(let v=
0,t=-1;16>v;++v){for(f=0;16>f;++f)c[d]=O[++t],c[++d]=O[++t],c[++d]=O[++t],c[++d]=O[++t],d+=13;d+=g}else for(q=0;16>q;++q){for(n=0;16>n;++n)c[d]=0<k?0:50397446,c[++d]=0<k?0:131843,f?(c[++d]=0,c[++d]=0,d+=13):d+=15;d+=g}if(0===(u|l|k)){for(k=1;k<Ua;++k)cb(a,k%9,7,J(k/9),k);m.T=!1}break}}}};let ub=null,vb=new Image;vb.crossOrigin="anonymous";vb.onload=()=>{var a=ma.createElement("canvas");a.width=256;a.height=26;a=a.getContext("2d");a.drawImage(vb,0,0);vb=null;ub=new Ja(a.getImageData(0,0,256,26).data.buffer)};
vb.src=ASSETS+"blocks.png";const xb=(a,c)=>{const g={Ha:c,wa:c.getContext("2d",{alpha:!1,desynchronized:!0}),Ia:null,Na:"",L:!1,Oa:0,ya:0,Xa:Na(()=>(g.Oa=g.ya,g.ya=0),1E3),h:a};wb(g);return g},wb=a=>{(a.Ia=a.wa.createImageData(a.Ha.width=a.h.qa,a.Ha.height=a.h.ra)).data.fill(255);a.wa.fillStyle="rgba(255,255,255,.5)"};let yb=0;
const zb=()=>{const a={$:null,va:null,K:null,ja:null,aa:0,ma:0,na:0,oa:0,id:0,ca:0,da:0,s:0,Sa:.5,Ta:8.5,Ua:.5};return{l:null,ka:!1,g:!0,la:!1,Pa:null,za:0,B:new Set,Ba:"",i:0,G:[],j:{ta:0,Ga:0,ua:0,H:0,ga:0,ha:0,O:0,J:-1,P:0,Y:null,Z:null,Aa:9,pa:0,name:"Gast",u:a.Sa,v:a.Ta,A:a.Ua,Qa:0,Ra:0,V:0,W:0,X:0},o:null,Ca:1,Da:1,qa:0,ra:0,Va:null,time:0,Ea:0,m:a}},Ab=(a,c)=>{a.o=xb(a,c);a.Va=Na(()=>{a.g||(a.time=(a.time+1)%24E3,a.Ea=1/24E3*(a.time+6E3)%1,qb(a.m,a.j,!1))},50)},P=(a,c)=>a===c?0:.1-.2*a,Bb=
a=>{a.j.ta=P((a=a.B).has(-12)||a.has(65),a.has(-13)||a.has(68))},Cb=a=>{a.j.Ga=P((a=a.B).has(-15)||a.has(16),a.has(-14)||a.has(32))},Db=a=>{a.j.ua=P((a=a.B).has(-11)||a.has(83),a.has(-10)||a.has(87))},Fb=(a,c,g)=>{const b=a.B,e=a.j;if(g){if(b.has(c))return!1;b.add(c);const l=e.O;var h=e.J;g=e.P;switch(c){case -18:case -19:a.j.Qa=P(a.B.has(-18),a.B.has(-19));break;case -17:case -16:a.j.Ra=P(a.B.has(-17),a.B.has(-16));break;case -1:0<=h&&(0===e.pa?cb(a.m,l,h,g,0):Eb(a,[l,h,g],!1));break;case -2:case 71:0<=
h&&(c=a.m,e.Aa=0>h||63<h?0:c.$[(l<<c.s+4|g)<<6|h]);break;case -3:if(0<=h)if(0===e.pa){c=l;switch(e.ha){case 0:--c;break;case 1:++c;break;case 2:--h;break;case 3:++h;break;case 4:--g;break;default:++g}0<=h&&64>h&&cb(a.m,c&(1<<4+a.m.s)-1,h,g&(1<<4+a.m.s)-1,e.Aa)}else Eb(a,[l,h,g],!0);break;case 27:a.i?(a.g=!1,a.i=0):(a.g=!0,a.i=1);break;case -15:case -14:case 16:case 32:Cb(a);break;case -12:case -13:case 65:case 68:Bb(a);break;case 80:a.g=!a.g;break;case -11:case -10:case 83:case 87:Db(a);break;case 84:if(!a.i){a.i=
2;for(const f of b)Fb(a,f,!1)}break;case 114:a.ka=!a.ka;break;default:return!1}}else{if(!b.delete(c))return!1;switch(c){case -15:case -14:case 16:case 32:Cb(a);break;case -12:case -13:case 65:case 68:Bb(a);break;case -11:case -10:case 83:case 87:Db(a);break;case -18:case -19:a.j.Qa=P(a.B.has(-18),a.B.has(-19));break;case -17:case -16:a.j.Ra=P(a.B.has(-17),a.B.has(-16))}}a.Ba=[...b].join();return!0},Gb=(a,c)=>(c=c.startsWith("~")?a+La(c.substr(1)):La(c),isNaN(c)?a:c),Q=(a,c)=>{(a.G=a.G.slice(-49)).push({id:++yb,
time:ha(),value:c})},Eb=(a,c,g)=>{g?a.j.Z=c:a.j.Y=c;Q(a,`${g?"second":"first"} position: ${c.join(" ")}`)};
function Hb({actions:{Wa:a,Ka:c,Ma:g},l:b,h:e}){A(()=>{sb(e.m);return c});A(()=>{const h=Ma(c,1E3);return()=>Oa(h)},[b]);x("div[className=menu]");return[F("h1[innerText=Men\u00fc]"),F("div[className=settings]",null,[F("button",{innerText:"Oberfl\u00e4chen: "+(b.U?"Texturiert":"Einfarbig"),onclick:C(()=>a(h=>({U:!h.U})))}),F("label[innerText=Aufl\u00f6sung:]",null,[F("input[type=range][min=1][max=100][step=1]",{value:101-b.M,onchange:C(h=>g({M:101-Number(h.target.value)}))})]),F("label[innerText=Blickwinkel:]",
null,[F("input[type=range][min=1][max=180][step=1]",{value:b.ea,onchange:C(h=>g({ea:Number(h.target.value)}))})]),F("label[innerText=Sichtweite:]",null,[F("input[type=range][min=1][max=128][step=1]",{value:b.N,onchange:C(h=>g({N:Number(h.target.value)}))})]),F("label[innerText=Mausempfindlichkeit:]",null,[F("input[type=range][min=1][max=15][step=1]",{value:b.ba,onchange:C(h=>g({ba:Number(h.target.value)}))})])]),F("center",null,[F("button[innerText=Zur\u00fcck]",{onclick:C(h=>(e.i=0,"mouse"===h.pointerType?
e.Pa.requestPointerLock():e.g=!1))})])]}const Ib=({I:{value:a}})=>(x("div",{innerText:a}),null);
function Jb({h:a,G:c}){x("div[className=menu terminal]");const g=C({history:null});A(b=>{b&&Ma(()=>g.history.scrollTop=1E9,0)},[c.length&&c[c.length-1].id]);return[F("div[className=history]",{R:C(b=>{g.history=b})},[fa(Ib,c)]),F("input[enterkeyhint=send][mozactionhint=send][name=message][required]",C({onkeydown:b=>{var e=b.keyCode;b=b.target;if(13===e){var h=b.value;e=a.j;if(h)if("/"===h.charAt(0)){h=h.substr(1).split(" ");var l=h.shift();switch(l){case "clear":a.G=[];break;case "exit":a.g=!1;a.i=
0;break;case "give":h=La(h[0]);!isNaN(h)&&0<h&&25>h&&0===h%1?(e.Aa=h,Q(a,"selected block "+h)):Q(a,"invalid block id");break;case "help":Q(a,"commands: clear, exit, give, help, save, spawn, tp, version, /regen");break;case "save":sb(a.m);Q(a,"world saved.");break;case "smart":e.name="LFF5644";Q(a,"lff.smart: true");break;case "spawn":e.u=a.m.Sa;e.v=a.m.Ta;e.A=a.m.Ua;a.o.L=!0;break;case "teleport":case "tp":3===h.length?(Q(a,`teleported to ${e.u=Gb(e.u,h[0])} ${e.v=Gb(e.v,h[1])} ${e.A=Gb(e.A,h[2])}`),
a.o.L=!0):Q(a,"PITCH");break;case "version":Q(a,"Minicraft 0.5.9");break;case "/exit":e.pa=0;Q(a,"normal mouse mode");break;case "/expand":a.j.Y&&a.j.Z?l=!0:(Q(a,"selection required"),l=!1);l&&("vert"===h[0]?(e.Y[1]=0,e.Z[1]=63,Q(a,"selection expanded")):Q(a,"only vert supported"));break;case "/pos1":case "/pos2":Eb(a,[J(e.u),J(e.v),J(e.A)],"/pos2"===l);break;case "/regen":e=a.m;h=e.K[e.ja[e.aa=0].Ja];Ha.removeItem(tb(e,h.fa,h.sa,h.y));h.T=!1;++h.fa;pb(e);Q(a,"regenerate chunk");a.o.L=!0;break;case "/show":Q(a,
`first: ${e.Y?e.Y.join(" "):"none"}, second: ${e.Z?e.Z.join(" "):"none"}`);break;case "/wand":e.pa=1;Q(a,"primary+secondary button for selection");break;default:Q(a,"unknown command: "+l)}}else Q(a,`<${e.name}> `+h);b.value=""}else 27===e&&(a.g=!1,a.i=0)},R:b=>Ma(()=>b.focus(),0)}))]}const Kb=[["pick",-2],["up",-14],["down",-15],["T",84],["F3",114],["...",27]],Lb=[["up",-10],["down",-11],["left",-12],["right",-13],["center",-1]],Mb=[["up",-16],["down",-17],["left",-18],["right",-19],["center",-3]];
function Nb({h:a}){const c=a.B,g=([b,e])=>F("div",{D:{code:e},F:{button:!0,[b]:!0,active:c.has(e)}});x("div[className=touch]",C({ontouchstart:b=>{b.preventDefault();const e=Number(b.target.dataset.code);if(null!=e&&Fb(a,e,!0)){const h=b.changedTouches[0].identifier,l=f=>{f.changedTouches[0].identifier===h&&(removeEventListener("touchend",l),Fb(a,e,!1))};addEventListener("touchend",l)}}}));return[F("div[className=top]",null,Kb.map(([b,e])=>F(`div[innerText=${b}]`,{D:{code:e},F:{button:!0,active:c.has(e)}}))),
F("div[className=move]",null,Lb.map(g)),F("div[className=move sec]",null,Mb.map(g))]}
function Ob({actions:a,l:c,Ya:g}){const b=ba(zb),e=ha(),h=x("div[className=game]",ba(()=>{const f=d=>0!==b.i||(b.la=!1,ma.pointerLockElement===h?b.g||Fb(b,-1-d.button,"mousedown"===d.type):b.Pa.requestPointerLock(),d.preventDefault(),!1);return{onmousedown:f,onmousemove:d=>{if(!b.g&&!b.i){const k=b.l.ba*na/K(b.Ca,b.Da);Wa(b.j,d.movementX*k,-d.movementY*k)}},onmouseup:f,ontouchstart:d=>{b.la=!0;b.i||(b.g=!1,d.preventDefault())}}})),l=ma.pointerLockElement===h;A(()=>(b.Pa=h,g.h=b,()=>{Pa(b.Va);Pa(b.o.Xa);
return g.h=null}));A(()=>{b.l=c;b.o&&(b.o.L=!0);const f=b.j,d=b.m;var k=b.l.N;k=17>k?2:49>k?3:113>k?4:241>k?5:497>k?6:1009>k?7:2033>k?8:4081>k?9:8177>k?10:16369>k?11:32753>k?12:13;if(d.s!==k){d.K&&sb(d);const q=1<<(d.s=k),n=d.K=[];for(let m=0;m<q;++m)for(let u=0;u<q;++u)for(let v=0;4>v;++v)n.push({T:!1,loaded:!1,x:m,y:v,z:u,fa:0,sa:0});d.$=new Ia((d.va=new Ja(q<<k+12+2-2)).buffer);qb(d,f,!0)}},[c]);A((f,d,k)=>{b.Ca=K(1,f*k);b.Da=K(1,d*k);d=b.l.M;f=K(1,wa(b.Ca/d));d=K(1,wa(b.Da/d));if(f!==b.qa||d!==
b.ra)b.qa=f,b.ra=d,b.o&&(b.o.L=!0,wb(b.o))},[h.offsetWidth,h.offsetHeight,ia.devicePixelRatio||1,c.M]);A(()=>{l||b.g||b.i||(b.i=1);b.g=!l},[l]);A(f=>l&&f&&ma.exitPointerLock(),[b.g||b.i]);A(()=>{if(b.za&&!b.g){var f=b.j,d=xa(5,.01*(e-b.za));f.V-=.1*f.V*d;f.W-=.1*f.W*d;f.X-=.1*f.X*d;f.V+=(ya(f.H)*f.ta+za(f.H)*f.ua)*d;f.W+=f.Ga*d;f.X+=(-za(f.H)*f.ta+ya(f.H)*f.ua)*d;Wa(f,f.Qa*d,f.Ra*d);f.u+=f.V*d;f.v+=f.W*d;f.A+=f.X*d}if(b.o){f=b.o;++f.ya;var k=f.wa,q=f.Ia;d=f.h;const ja=d.l,p=d.j,M=d.qa,N=d.ra,I=d.m;
if(!d.g||f.L){f.L=!1;const U=q.data,Qb=ja.N;var n=p.H,m=p.ga;const Rb=p.O,Sb=p.J,Tb=p.P;var u=p.u,v=p.v,t=p.A;const Ub=I.$;var y=I.s;const Vb=ja.U&&null!==ub;var r=1/M,G=1/N;const V=M>>1,W=N>>1,eb=xa(M,N),fb=32<eb,gb=ya(n);n=za(n);const hb=ya(-m);m=za(-m);var X=ja.ea/45;const Wb=r*(M<N?X*M*G:X);r=G*(N<M?X*N*r:X);u+=65536;v+=65536;t+=65536;G=u%1;X=v%1;const Xb=t%1;y=4+y;const ib=(1<<y)-1;let jb=5,R=p.O=p.P=p.ha=0;p.J=-1;for(let qa=0;qa<N;++qa){var ra=(W-qa)*r;const kb=ra*hb-m;var Da=ra*m+hb;ra=Da*
n;Da*=gb;for(let sa=0;sa<M;++sa){var ka=(sa-V)*Wb;const lb=ra+gb*ka;ka=Da-n*ka;let la=16757124,ta=1,mb=Qb;for(let z=0;3>z;++z){let D=ka;0===z&&(D=lb);1===z&&(D=kb);var S=1/(0>D?-D:D);const ua=lb*S,T=kb*S;S*=ka;const nb=Aa(ua*ua+T*T+S*S);var B=Xb;0===z&&(B=G);1===z&&(B=X);0<D&&(B=1-B);let Y=u+ua*B,Z=v+T*B,aa=t+S*B;B*=nb;0===z&&(Y+=.5-(0>D|0));1===z&&(Z+=.5-(0>D|0));2===z&&(aa+=.5-(0>D|0));for(let Ea,Fa,Ga,E;B<mb;Y+=ua,Z+=T,aa+=S,B+=nb)if(65536>Z){if(0>T)break}else if(65600<=Z){if(0<T)break}else if(0!==
(E=Ub[((Ea=Y&ib)<<y|(Ga=aa&ib))<<6|(Fa=Z&63)])){qa===W&&sa===V&&B<=jb&&(p.O=Ea,p.J=Fa,p.P=Ga,p.ha=0>D|z<<1,jb=B);if(Vb){--E;1===z?6===E?E=25:13===E?E=4:1===E&&0<T&&(E=2):1===E&&(E=24);const ob=ub[E<<8|(16*(1===z?aa:Z)&15)<<4|16*(1===z?Y:(0<D?Y-aa:aa-Y)+65536.5)&15];if(0===ob>>>24)continue;la=ob&16777215}else la=Ta[E];mb=B;ta=(0===z?.8:2===z?.6:0<D?.4:1)+(Fa!==Sb||Ea!==Rb||Ga!==Tb?0:.2);break}}U[R]=(la&255)*ta;U[++R]=(la>>8&255)*ta;U[++R]=(la>>16)*ta;R+=2}}fb||(U[R=M*W+V<<2]+=128,U[++R]+=128,U[++R]+=
128);k.putImageData(q,0,0);fb&&(q=va(.05*eb),k.fillRect(V-q,W-1,q<<1,2),k.fillRect(V-1,W-q,2,q-1),k.fillRect(V-1,W+1,2,q-1))}d.ka?(0>p.J?k=0:(k=p.J,k=p.O+" "+p.J+" "+p.P+" "+Va[p.ha]+": "+(0>k||63<k?0:I.$[(p.O<<I.s+4|p.P)<<6|k])),d="Minicraft 0.5.9 "+J(f.Oa).toString().padStart(2,"\u00a0")+" fps, T: "+J(24*d.Ea).toString().padStart(2,"0")+":"+J(24*d.Ea%1*60).toString().padStart(2,"0")+"; "+(d.g&&500>e%1E3?"":d.time)+"\nR: "+M+"x"+N+" (x"+ja.M+"), D: "+ja.N+", C: "+I.aa+"/"+I.ja.length+", M: "+(64*
L(1<<4+I.s)>>10)+"k\nE: 0/0\n\nPosition: "+p.u.toFixed(2)+" "+p.v.toFixed(2)+" "+p.A.toFixed(2)+"\nAngle: "+(p.H*pa).toFixed(2)+" "+(p.ga*pa).toFixed(2)+"\nBlock: "+k+"\nChunk abs: "+(J(p.u)>>4)+" "+(J(p.A)>>4)+" "+(J(p.v)>>4)+" rel: "+I.ma+" "+I.oa+" "+I.na):d="";f.Na=d}b.za=e},[e]);da();return[F("canvas",{R:C(f=>Ab(b,f))}),2!==b.i&&ea(Sa,{G:b.G,Fa:e}),b.o&&b.ka&&F("div[className=diagnostics]",{innerText:b.o.Na}),b.la&&ea(Nb,{h:b,Ba:b.Ba}),1===b.i&&ea(Hb,{actions:a,l:c,h:b}),2===b.i&&ea(Jb,{h:b,
G:b.G})]}
const Pb={init:()=>{const a={U:!0,ba:3,M:10,ea:80,N:64};var c=Ha.getItem("minicraft.config");if(c){c=Ca.parse(c);let g=c.flag_textures;null!=g&&(a.U=g);null!=(g=c.mouse_sensitivity)&&(a.ba=g);a.M=c.resolution_scaling;a.ea=c.view_angle;a.N=c.view_distance}return{l:a,La:a}},Ka:a=>{const c=a.l;if(c===a.La)return a;Ha.setItem("minicraft.config",Ca.stringify({version:"0.5.9",flag_textures:c.U,mouse_sensitivity:c.ba,resolution_scaling:c.M,view_angle:c.ea,view_distance:c.N}));return Object.assign({},a,{La:c})},
Wa:(a,c)=>Pb.Ma(a,c(a.l)),Ma:(a,c)=>Object.assign({},a,{l:Object.assign({},a.l,c)})};w.init(()=>{const [a,c]=ca(Pb),g=C({h:null});A(()=>{let e=!1;onbeforeunload=onunload=()=>{e||(e=!0,c.Ka(),g.h&&sb(g.h.m))}});const b=C(e=>"INPUT"===e.target.tagName||!g.h||(e.preventDefault(),Fb(g.h,e.keyCode,"keydown"===e.type),g.h.la=!1));return[{onkeydown:b,onkeyup:b,oncontextmenu:Qa,ondragstart:Qa},[ea(Ob,{actions:c,l:a.l,Ya:g})]]});
