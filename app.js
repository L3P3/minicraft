const h=lui,ia=h.hook_callback,ja=h.hook_dom,q=h.hook_effect,ka=h.hook_memo,la=h.hook_reducer,ma=h.hook_rerender,v=h.hook_static,na=h.node,x=h.node_dom,oa=h.now,y=document,B=Math,C=B.PI,pa=.5*C,qa=180/C,I=B.floor,ra=B.round,sa=B.min,Q=B.max,R=B.cos,S=B.sin,ta=JSON,ua=localStorage,Ha=()=>!1,Ia=[()=>{const a={D:!0,N:3,A:10,O:80,K:64};var c=ua.getItem("minicraft.config");if(c){c=ta.parse(c);let e=c.flag_textures;null!=e&&(a.D=e);null!=(e=c.mouse_sensitivity)&&(a.N=e);a.A=c.resolution_scaling;a.O=c.view_angle;
a.K=c.view_distance}return{h:a}},a=>{const c=a.h;ua.setItem("minicraft.config",ta.stringify({version:"0.1.18",flag_textures:c.D,mouse_sensitivity:c.N,resolution_scaling:c.A,view_angle:c.O,view_distance:c.K}));return a},(a,c)=>Object.assign({},a,{h:Object.assign({},a.h,c)})],Ja=[0,7960953,5420927,3757176,8553090,5077911,4539717,31E5,2261551,8424632,14145495],Ka="WEBTSN".split(""),Ma=()=>{const a={v:La(),ta:8,ua:32,va:8};for(var c=0;16>c;c+=2)a.v[1024+(c<<4)]=3,a.v[1024+c]=3;["X   XXX XXX XXX","X     X X X   X",
"X   XXX XXX XXX","X     X X     X","XXX XXX X   XXX"].forEach((e,b,n)=>{b=n.length-b;e.split("").forEach((u,g)=>{"X"===u&&(a.v[1024+(g+1<<4)+b]=6)})});for(c=0;c<Ja.length;++c)a.v[(c<<4)+1287]=c;return a},W=(a,c,e,b)=>0>e||64<=e?0:a.v[(e<<8)+(c<<4)+b],La=()=>{const a=new Uint8Array(16384),c=[6,3,3,3,2];for(let e=-1,b=0;b<c.length;++b){const n=c[b];for(let u=0;16>u;++u)for(let g=0;16>g;++g)a[++e]=n}return a};let X=null,Y=new Image;
Y.onload=()=>{var a=y.createElement("canvas");const c=a.width=Y.width,e=a.height=Y.height;a=a.getContext("2d");a.drawImage(Y,0,0);Y=X=new Uint32Array(a.getImageData(0,0,c,e).data.buffer)};Y.src="data:image/png;base64,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";
const Oa=(a,c)=>{const e={ca:c,ja:null,ka:null,la:"",W:!1,ma:0,ea:0,qa:setInterval(()=>{e.ma=e.ea;e.ea=0},1E3),m:a};Na(e);return e},Na=a=>{var c=a.ca.width=a.m.$,e=a.ca.height=a.m.aa;a=(a.ka=(a.ja=a.ca.getContext("2d")).createImageData(c,e)).data;c=a.length;for(e=3;e<c;e+=4)a[e]=255},Pa=()=>({h:null,V:!1,B:!1,j:!0,na:null,fa:0,g:{L:0,P:0,M:0,o:0,T:0,U:0,s:0,i:-1,u:0,oa:9,X:0,Y:10,Z:0,G:0,H:0,J:0},l:null,ga:1,ha:1,$:0,aa:0,pa:null,time:0,ia:0,ba:Ma()}),Qa=(a,c)=>{a.l=Oa(a,c);a.pa=setInterval(()=>{a.j||
(a.time=(a.time+1)%24E3,a.ia=1/24E3*(a.time+6E3)%1)},50)},Ra=(a,c,e)=>{if(e)switch(c){case -1:0<=a.g.i&&(a.ba.v[(a.g.i<<8)+(a.g.s<<4)+a.g.u]=0);break;case -2:case 71:0<=a.g.i&&(a.g.oa=W(a.ba,a.g.s,a.g.i,a.g.u));break;case -3:if(0<=a.g.i){c=a.g.s;e=a.g.i;let b=a.g.u;switch(a.g.U){case 0:--c;break;case 1:++c;break;case 2:--e;break;case 3:++e;break;case 4:--b;break;default:++b}0<=e&&64>e&&(a.ba.v[(e<<8)+((c&15)<<4)+(b&15)]=a.g.oa)}break;case 27:a.j=a.B=!a.B;break;case 16:a.g.P=-.1;break;case 32:a.g.P=
.1;break;case 65:a.g.L=-.1;break;case 68:a.g.L=.1;break;case 80:a.j=!a.j;break;case 83:a.g.M=-.1;break;case 87:a.g.M=.1;break;case 114:a.V=!a.V;break;default:return!0}else switch(c){case 16:case 32:a.g.P=0;break;case 65:case 68:a.g.L=0;break;case 83:case 87:a.g.M=0;break;default:return!0}return!1};
function Sa({h:a,da:c,m:e}){ja("div[className=menu]");return[x("h1[innerText=Men\u00fc]"),x("div[className=settings]",null,[x("button",{innerText:"Oberfl\u00e4chen: "+(a.D?"Texturiert":"Einfarbig"),onclick:ia(b=>{c(2,{D:!b})},[a.D])}),x("label[innerText=Aufl\u00f6sung:]",null,[x("input[type=range][min=1][max=100][step=1]",{value:101-a.A,onchange:v(b=>c(2,{A:101-Number(b.target.value)}))})]),x("label[innerText=Blickwinkel:]",null,[x("input[type=range][min=1][max=180][step=1]",{value:a.O,onchange:v(b=>
c(2,{O:Number(b.target.value)}))})]),x("label[innerText=Sichtweite:]",null,[x("input[type=range][min=1][max=128][step=1]",{value:a.K,onchange:v(b=>c(2,{K:Number(b.target.value)}))})]),x("label[innerText=Mausempfindlichkeit:]",null,[x("input[type=range][min=1][max=15][step=1]",{value:a.N,onchange:v(b=>c(2,{N:Number(b.target.value)}))})])]),x("div",null,[x("button[innerText=Zur\u00fcck]",{onclick:v(()=>(e.B=!1,e.na.requestPointerLock()))})])]}
function Ta({h:a,da:c,ra:e}){const b=ka(Pa),n=ja("div[className=game]",ka(()=>{const g=d=>b.B||(y.pointerLockElement===n?b.j||Ra(b,-1-d.button,"mousedown"===d.type):b.na.requestPointerLock(),d.preventDefault(),!1);return{onmousedown:g,onmousemove:d=>{if(!b.j){const k=b.h.N*C/Q(b.ga,b.ha);b.g.o=(b.g.o+d.movementX*k+100*C)%(2*C);b.g.T=Q(-pa,sa(pa,b.g.T-d.movementY*k))}},onmouseup:g}})),u=y.pointerLockElement===n;q(()=>(b.na=n,e.m=b,()=>{clearInterval(b.pa);clearInterval(b.l.qa);return e.m=null}));q(()=>
{b.h=a;b.l&&(b.l.W=!0)},[a]);q((g,d)=>{b.ga=Q(1,g);b.ha=Q(1,d);d=b.h.A;g=Q(1,ra(b.ga/d));d=Q(1,ra(b.ha/d));if(g!==b.$||d!==b.aa)b.$=g,b.aa=d,b.l&&(b.l.W=!0,Na(b.l))},[n.offsetWidth,n.offsetHeight,a.A]);q(()=>{u||b.j||(b.B=!0);b.j=!u},[u]);q(g=>g&&u&&y.exitPointerLock(),[b.j]);q(g=>{if(b.fa&&!b.j){var d=b.g,k=sa(5,.01*(g-b.fa));d.G-=.1*d.G*k;d.H-=.1*d.H*k;d.J-=.1*d.J*k;d.G+=(R(d.o)*d.L+S(d.o)*d.M)*k;d.H+=d.P*k;d.J+=(-S(d.o)*d.L+R(d.o)*d.M)*k;d.X+=d.G*k;d.Y+=d.H*k;d.Z+=d.J*k}if(b.l){d=b.l;++d.ea;k=
d.ka;const r=d.m,J=r.h,f=r.g,w=r.$,z=r.aa,va=r.ba;if(!r.j||d.W){d.W=!1;const D=k.data,Ua=J.K;var K=f.o,L=f.T;const Va=f.s,Wa=f.i,Xa=f.u,Ya=J.D&&null!==X,wa=1/w,xa=1/z,Z=w>>1,aa=z>>1,ya=R(K);K=S(K);const za=R(-L);L=S(-L);var E=J.O/45;const Za=w<z?E*w*xa:E;E=z<w?E*z*wa:E;const Aa=f.X+65536,Ba=f.Y+65536,Ca=f.Z+65536,$a=Aa%1,ab=Ba%1,bb=Ca%1;let Da=5,A=f.s=f.u=f.U=0;f.i=-1;for(let T=0;T<z;++T){var M=(aa-T)*xa*E;const Ea=M*za-L;M=M*L+za;for(let U=0;U<w;++U){var N=(U-Z)*wa*Za;const Fa=M*K+N*ya;N=M*ya-N*
K;let O=16757124,V=1,Ga=Ua;for(let l=0;3>l;++l){let t=N;0===l&&(t=Fa);1===l&&(t=Ea);const F=1/(0>t?-t:t),ba=Fa*F,ca=Ea*F,da=N*F;var m=bb;0===l&&(m=$a);1===l&&(m=ab);0<t&&(m=1-m);let G=Aa+ba*m,P=Ba+ca*m,H=Ca+da*m;m*=F;0===l&&(G+=.5-(0>t|0));1===l&&(P+=.5-(0>t|0));2===l&&(H+=.5-(0>t|0));let ea,fa,ha;for(var p;m<Ga;)if(0===(p=W(va,ea=G&15,fa=P&65535,ha=H&15)))G+=ba,P+=ca,H+=da,m+=F;else{T===aa&&U===Z&&m<=Da&&(f.s=ea,f.i=fa,f.u=ha,f.U=0>t|l<<1,Da=m);if(Ya)if(--p,1===l?6===p?p=11:1===p&&0<t&&(p=2):1===
p&&(p=10),p=X[(p<<8)+((16*(1===l?H:P)&15)<<4)+(16*(1===l?G:G+H)&15)],0!==p>>>24)O=p&16777215;else{G+=ba;P+=ca;H+=da;m+=F;continue}else O=Ja[p];Ga=m;V=1-(l+2)%3*.2+(fa!==Wa||ea!==Va||ha!==Xa?0:.1);break}}D[A]=(O&255)*V;D[++A]=(O>>8&255)*V;D[++A]=(O>>16)*V;A+=2}}D[A=w*aa+Z<<2]*=2;D[++A]*=2;D[++A]*=2;d.ja.putImageData(k,0,0)}d.la=r.V?"Minicraft 0.1.18 "+I(d.ma).toString().padStart(2,"\u00a0")+" fps, T: "+I(24*r.ia).toString().padStart(2,"0")+":"+I(24*r.ia%1*60).toString().padStart(2,"0")+"; "+(r.j&&
500>g%1E3?"":r.time)+"\nR: "+w+"x"+z+" (x"+J.A+"), C: 1, D: "+J.K+"\nE: 0/0\n\nPosition: "+f.X.toFixed(2)+" "+f.Y.toFixed(2)+" "+f.Z.toFixed(2)+"\nAngle: "+(f.o*qa).toFixed(2)+" "+(f.T*qa).toFixed(2)+"\nBlock: "+(0>f.i?0:f.s+" "+f.i+" "+f.u+" "+Ka[f.U]+": "+W(va,f.s,f.i,f.u))+"\nChunk: 0 0":""}b.fa=g},[oa()]);ma();return[x("canvas",{R:v(g=>Qa(b,g))}),b.l&&b.V&&x("div[className=diagnostics]",{innerText:b.l.la}),b.B&&na(Sa,{h:a,da:c,m:b})]}
h.init(()=>{const [a,c]=la(Ia),e=v({m:null});q(()=>{onbeforeunload=()=>{c(1)}});const b=v(n=>!e.m||Ra(e.m,n.keyCode,"keydown"===n.type)||(n.preventDefault(),!1));return[{onkeydown:b,onkeyup:b,oncontextmenu:Ha,sa:Ha},[na(Ta,{h:a.h,da:c,ra:e})]]});
