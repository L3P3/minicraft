const w=lui,z=w.hook_dom,C=w.hook_effect,aa=w.hook_memo,ba=w.hook_model,ca=w.hook_rerender,D=w.hook_static,da=w.node,G=w.node_dom,ea=w.node_map,fa=w.now,ha=window,la=document,J=Math,ma=J.PI,na=.5*ma,ta=180/ma,K=J.floor,ua=J.ceil,va=J.round,wa=J.min,M=J.max,xa=J.cos,ya=J.sin,Da=J.sqrt,Ea=String.fromCharCode,Fa=JSON,Ga=localStorage,Ha=Uint8Array,Ia=Uint32Array,Ja=Map,Ka=setTimeout,La=setInterval,Ma=clearInterval,Na=()=>!1,Oa=({I:{time:a,value:c},Ea:f})=>(z("div",{innerText:c,S:{opacity:wa(1,1-.001*
(f-a-4500))}}),null);function Pa({v:a,Ea:c}){z("div[className=messages]");const f=c-5E3;return[ea(Oa,a.slice(-10).filter(b=>b.time>f),{Ea:c})]}
const Qa=[0,8487297,4305266,4349313,8092539,5342114,7039851,3561583,4172910,6384533,15526888,10671324,8092798,16447200,4151672,1970708,8092539,9686227,9126695,15198183,5567485,14541182,7920469,662956,14936813],Ra=Qa.length,Sa="WEBTSN".split(""),Ta=(a,c,f)=>{a.A=(a.A+c+100*ma)%(2*ma);a.ga=M(-na,wa(na,a.ga+f))},Ua=a=>{a+=32;33<a&&39>a?a++:38<a&&44>a?a+=2:43<a&&127>a?a+=3:126<a&&55258>a?a+=37:55295<a&&(a+=8485);return Ea(a)},Va=a=>a-(63743<a?8517:159<a?69:46<a&&130>a?35:40<a&&46>a?34:34<a&&40>a?33:32),
Xa=()=>{var a=Wa;const c=a.length,f=new Ja,b=u=>{m=m<<1|u&1;15===++p&&(h+=Ua(m),m=p=0)},g=()=>{for(let u=0;u<l;++u)b(0)},k=u=>{b(u);b(u>>1);b(u>>2);b(u>>3);b(u>>4);b(u>>5);b(u>>6);b(u>>7)},n=()=>{0===--t&&(t=1<<l++)},e=()=>{if(x)x=!1;else{let u=r.id;for(let H=0;H<l;H++)b(u>>H)}};let d=a[0],h="",m=0,p=2,l=2,t=2,v=2,r={id:v++,ia:new Ja},x=!0;k(d);f.set(d,r);for(let u=1;u<c;++u){const H=r.ia.get(d=a[u]);H?r=H:(e(),f.has(d)||(n(),g(),k(d),f.set(d,{id:v++,ia:new Ja}),x=!0),r.ia.set(d,{id:v++,ia:new Ja}),
r=f.get(d),n())}e();f.has(d)||(n(),g(),k(d));n();b(1);--l;g();return h+=Ua(m<<15-p)},Ya=a=>{var c=Wa;if(!a)return null;const f=a.length,b=()=>{p+=(v>>--r&1)<<l++;0===r&&(r=15,v=Va(a.charCodeAt(t++)))};let g=[0,1],k=1,n=3,e=2,d=null;var h=null;let m=0,p=0;h=2;let l=0,t=0,v=Va(a.charCodeAt(t++)),r=15;for(;l<h;)b();if(1===p)return null;for(p=l=0;8>l;)b();d=[p];g[2]=d;for(c[m++]=p;t<=f;){h=e;for(p=l=0;l<h;)b();if(0===p){for(p=l=0;8>l;)b();g[n]=[p];p=n++;0===--k&&(k=1<<e++)}else if(1===p)return c;h=p<
g.length?g[p]:d.concat(d[0]);for(let x=0;x<h.length;x++)c[m++]=h[x];g[n++]=d.concat(h[0]);d=h;0===--k&&(k=1<<e++)}return null},O=new Ia(1024),Wa=new Ha(O.buffer),Za=new Ja,$a=(a,c,f,b,g)=>{const k=a.o;a.$[(c<<k+4|b)<<6|f]=g;a.B[(c>>4<<k|b>>4)<<2|f>>4].L=!0},nb=(a,c,f)=>{const b=M(wa(c.H,63),0)>>4,g=K(c.G)>>4;c=K(c.J)>>4;if(f||a.na!==b||a.ca+a.ma!==g||a.da+a.oa!==c)f=1<<a.o,a.na=b,a.ca=g-(a.ma=(65536+g)%f),a.da=c-(a.oa=(65536+c)%f),lb(a);mb(a)},lb=a=>{const c=a.ma,f=a.na,b=a.oa,g=a.o,k=`${g} ${c} ${b} ${f}`;
let n=Za.get(k);if(null==n){const e=1<<g;Za.set(k,n=a.B.map(({x:d,y:h,z:m},p)=>{var l=d-c;l*=l;var t=m-b;t*=t;var v=d-c-e;let r=v*v,x=v=0;r<l&&(l=r,v=-e);d=d-c+e;(r=d*d)<l&&(l=r,v=e);d=m-b-e;(r=d*d)<t&&(t=r,x=-e);m=m-b+e;(r=m*m)<t&&(t=r,x=e);h-=f;return{Ka:l+t+h*h,Ha:p,ca:v,da:x}}).sort((d,h)=>d.Ka-h.Ka))}a.ja=n;a.aa=0},ob=(a,c,f,b)=>`minicraft.world.${a.id}:${c}/${f}`+(0<b?"/"+b:""),pb=(a,c)=>{const f=a.va;var b=a.o;const g=c.y,k=(256<<b)-256;for(let n=0,e=-1,d=((c.x<<b+4|c.z)<<6|g)<<2;16>n;++n){for(b=
0;16>b;++b)O[++e]=f[d],O[++e]=f[++d],O[++e]=f[++d],O[++e]=f[++d],d+=13;d+=k}Ga.setItem(ob(a,c.fa,c.sa,g),Xa());c.L=!1},mb=a=>{var c=a.B,f=a.ja,b=a.ca;const g=a.da,k=f.length;for(;a.aa<k;){var n=f[a.aa++];const l=c[n.Ha];var e=l.loaded,d=l.x,h=l.y,m=l.z;const t=b+n.ca+d;n=g+n.da+m;if(!e||t!==l.fa||n!==l.sa){l.L&&pb(a,l);l.loaded=!0;var p=Ya(Ga.getItem(ob(a,l.fa=t,l.sa=n,h)));if(e||0===h||p){c=a.va;b=a.o;f=(256<<b)-256;d=((d<<b+4|m)<<6|h)<<2;if(p)for(let v=0,r=-1;16>v;++v){for(e=0;16>e;++e)c[d]=O[++r],
c[++d]=O[++r],c[++d]=O[++r],c[++d]=O[++r],d+=13;d+=f}else for(m=0;16>m;++m){for(p=0;16>p;++p)c[d]=0<h?0:50397446,c[++d]=0<h?0:131843,e?(c[++d]=0,c[++d]=0,d+=13):d+=15;d+=f}if(0===(t|n|h)){for(h=1;h<Ra;++h)$a(a,h%9,7,K(h/9),h);l.L=!1}break}}}};let qb=null,rb=new Image;rb.crossOrigin="anonymous";rb.onload=()=>{var a=la.createElement("canvas");a.width=256;a.height=26;a=a.getContext("2d");a.drawImage(rb,0,0);rb=null;qb=new Ia(a.getImageData(0,0,256,26).data.buffer)};rb.src=ASSETS+"blocks.png";
const tb=(a,c)=>{const f={xa:c,wa:null,Ga:null,Ja:"",T:!1,La:0,ya:0,Wa:La(()=>(f.La=f.ya,f.ya=0),1E3),i:a};sb(f);return f},sb=a=>{var c=a.xa.width=a.i.qa,f=a.xa.height=a.i.ra;c=(a.Ga=(a.wa=a.xa.getContext("2d")).createImageData(c,f)).data;a.wa.fillStyle="rgba(255,255,255,.5)";a=c.length;for(f=3;f<a;f+=4)c[f]=255};let ub=0;
const vb=()=>{const a={$:null,va:null,B:null,ja:null,aa:0,ma:0,na:0,oa:0,id:0,ca:0,da:0,o:0,Qa:.5,Ra:8.5,Sa:.5};return{l:null,ka:!1,h:!0,la:!1,Ma:null,za:0,u:new Set,Aa:"",j:0,v:[],g:{ta:0,Fa:0,ua:0,A:0,ga:0,ha:0,O:0,K:-1,P:0,Y:null,Z:null,Na:9,pa:0,G:a.Qa,H:a.Ra,J:a.Sa,Oa:0,Pa:0,V:0,W:0,X:0},m:null,Ba:1,Ca:1,qa:0,ra:0,Ta:null,time:0,Da:0,s:a}},wb=(a,c)=>{a.m=tb(a,c);a.Ta=La(()=>{a.h||(a.time=(a.time+1)%24E3,a.Da=1/24E3*(a.time+6E3)%1,nb(a.s,a.g,!1))},50)},P=(a,c)=>a===c?0:.1-.2*a,xb=a=>{a.g.ta=P((a=
a.u).has(-12)||a.has(65),a.has(-13)||a.has(68))},yb=a=>{a.g.Fa=P((a=a.u).has(-15)||a.has(16),a.has(-14)||a.has(32))},zb=a=>{a.g.ua=P((a=a.u).has(-11)||a.has(83),a.has(-10)||a.has(87))},Bb=(a,c,f)=>{const b=a.u,g=a.g;if(f){if(b.has(c))return!1;b.add(c);const n=g.O;var k=g.K;f=g.P;switch(c){case -18:case -19:a.g.Oa=P(a.u.has(-18),a.u.has(-19));break;case -17:case -16:a.g.Pa=P(a.u.has(-17),a.u.has(-16));break;case -1:0<=k&&(0===g.pa?$a(a.s,n,k,f,0):Ab(a,[n,k,f],!1));break;case -2:case 71:0<=k&&(c=a.s,
g.Na=0>k||63<k?0:c.$[(n<<c.o+4|f)<<6|k]);break;case -3:if(0<=k)if(0===g.pa){c=n;switch(g.ha){case 0:--c;break;case 1:++c;break;case 2:--k;break;case 3:++k;break;case 4:--f;break;default:++f}0<=k&&64>k&&$a(a.s,c&(1<<4+a.s.o)-1,k,f&(1<<4+a.s.o)-1,g.Na)}else Ab(a,[n,k,f],!0);break;case 27:a.j?(a.h=!1,a.j=0):(a.h=!0,a.j=1);break;case -15:case -14:case 16:case 32:yb(a);break;case -12:case -13:case 65:case 68:xb(a);break;case 80:a.h=!a.h;break;case -11:case -10:case 83:case 87:zb(a);break;case 84:if(!a.j){a.j=
2;for(const e of b)Bb(a,e,!1)}break;case 114:a.ka=!a.ka;break;default:return!1}}else{if(!b.delete(c))return!1;switch(c){case -15:case -14:case 16:case 32:yb(a);break;case -12:case -13:case 65:case 68:xb(a);break;case -11:case -10:case 83:case 87:zb(a);break;case -18:case -19:a.g.Oa=P(a.u.has(-18),a.u.has(-19));break;case -17:case -16:a.g.Pa=P(a.u.has(-17),a.u.has(-16))}}a.Aa=[...b].join();return!0},Q=(a,c)=>{(a.v=a.v.slice(-49)).push({id:++ub,time:fa(),value:c})},Ab=(a,c,f)=>{f?a.g.Z=c:a.g.Y=c;Q(a,
`${f?"second":"first"} position: ${c.join(" ")}`)};
function Cb({actions:{Ua:a,Ia:c},l:f,i:b}){z("div[className=menu]");return[G("h1[innerText=Men\u00fc]"),G("div[className=settings]",null,[G("button",{innerText:"Oberfl\u00e4chen: "+(f.U?"Texturiert":"Einfarbig"),onclick:D(()=>a(g=>({U:!g.U})))}),G("label[innerText=Aufl\u00f6sung:]",null,[G("input[type=range][min=1][max=100][step=1]",{value:101-f.M,onchange:D(g=>c({M:101-Number(g.target.value)}))})]),G("label[innerText=Blickwinkel:]",null,[G("input[type=range][min=1][max=180][step=1]",{value:f.ea,
onchange:D(g=>c({ea:Number(g.target.value)}))})]),G("label[innerText=Sichtweite:]",null,[G("input[type=range][min=1][max=128][step=1]",{value:f.N,onchange:D(g=>c({N:Number(g.target.value)}))})]),G("label[innerText=Mausempfindlichkeit:]",null,[G("input[type=range][min=1][max=15][step=1]",{value:f.ba,onchange:D(g=>c({ba:Number(g.target.value)}))})])]),G("center",null,[G("button[innerText=Zur\u00fcck]",{onclick:D(g=>(b.j=0,"mouse"===g.pointerType?b.Ma.requestPointerLock():b.h=!1))})])]}
const Db=({I:{value:a}})=>(z("div",{innerText:a}),null);
function Eb({i:a,v:c}){z("div[className=menu terminal]");const f=D({history:null});C(b=>{b&&Ka(()=>f.history.scrollTop=1E9,0)},[c.length&&c[c.length-1].id]);return[G("div[className=history]",{R:D(b=>{f.history=b})},[ea(Db,c)]),G("input[enterkeyhint=send][mozactionhint=send][name=message][required]",D({onkeydown:b=>{var g=b.keyCode;b=b.target;if(13===g){if(g=b.value)if("/"===g.charAt(0)){g=g.substr(1).split(" ");var k=g.shift();switch(k){case "clear":a.v=[];break;case "exit":a.h=!1;a.j=0;break;case "help":Q(a,
"commands: clear, exit, help, spawn, version, /regen");break;case "spawn":a.g.G=a.s.Qa;a.g.H=a.s.Ra;a.g.J=a.s.Sa;a.m.T=!0;break;case "version":Q(a,"Minicraft 0.5.5");break;case "/exit":a.g.pa=0;Q(a,"normal mouse mode");break;case "/expand":a.g.Y&&a.g.Z?k=!0:(Q(a,"selection required"),k=!1);k&&("vert"===g[0]?(a.g.Y[1]=0,a.g.Z[1]=63,Q(a,"selection expanded")):Q(a,"only vert supported"));break;case "/pos1":case "/pos2":Ab(a,[K(a.g.G),K(a.g.H),K(a.g.J)],"/pos2"===k);break;case "/regen":g=a.s;k=g.B[g.ja[g.aa=
0].Ha];Ga.removeItem(ob(g,k.fa,k.sa,k.y));k.L=!1;++k.fa;mb(g);Q(a,"regenerate chunk");a.m.T=!0;break;case "/show":Q(a,`first: ${a.g.Y?a.g.Y.join(" "):"none"}, second: ${a.g.Z?a.g.Z.join(" "):"none"}`);break;case "/wand":a.g.pa=1;Q(a,"primary+secondary button for selection");break;default:Q(a,"unknown command: "+k)}}else Q(a,"<me> "+g);b.value=""}else 27===g&&(a.h=!1,a.j=0)},R:b=>Ka(()=>b.focus(),0)}))]}
const Fb=[["pick",-2],["up",-14],["down",-15],["T",84],["F3",114],["...",27]],Gb=[["up",-10],["down",-11],["left",-12],["right",-13],["center",-1]],Hb=[["up",-16],["down",-17],["left",-18],["right",-19],["center",-3]];
function Ib({i:a}){const c=a.u,f=([b,g])=>G("div",{D:{code:g},F:{button:!0,[b]:!0,active:c.has(g)}});z("div[className=touch]",D({ontouchstart:b=>{b.preventDefault();const g=Number(b.target.dataset.code);if(null!=g&&Bb(a,g,!0)){const k=b.changedTouches[0].identifier,n=e=>{e.changedTouches[0].identifier===k&&(removeEventListener("touchend",n),Bb(a,g,!1))};addEventListener("touchend",n)}}}));return[G("div[className=top]",null,Fb.map(([b,g])=>G(`div[innerText=${b}]`,{D:{code:g},F:{button:!0,active:c.has(g)}}))),
G("div[className=move]",null,Gb.map(f)),G("div[className=move sec]",null,Hb.map(f))]}
function Jb({actions:a,l:c,Xa:f}){const b=aa(vb),g=fa(),k=z("div[className=game]",aa(()=>{const e=d=>0!==b.j||(b.la=!1,la.pointerLockElement===k?b.h||Bb(b,-1-d.button,"mousedown"===d.type):b.Ma.requestPointerLock(),d.preventDefault(),!1);return{onmousedown:e,onmousemove:d=>{if(!b.h&&!b.j){const h=b.l.ba*ma/M(b.Ba,b.Ca);Ta(b.g,d.movementX*h,-d.movementY*h)}},onmouseup:e,ontouchstart:d=>{b.la=!0;b.j||(b.h=!1,d.preventDefault())}}})),n=la.pointerLockElement===k;C(()=>(b.Ma=k,f.i=b,()=>{Ma(b.Ta);Ma(b.m.Wa);
return f.i=null}));C(()=>{b.l=c;b.m&&(b.m.T=!0);const e=b.g,d=b.s;var h=b.l.N;h=17>h?2:49>h?3:113>h?4:241>h?5:497>h?6:1009>h?7:2033>h?8:4081>h?9:8177>h?10:16369>h?11:32753>h?12:13;if(d.o!==h){if(d.B)for(var m of d.B)m.L&&pb(d,m);m=1<<(d.o=h);const p=d.B=[];for(let l=0;l<m;++l)for(let t=0;t<m;++t)for(let v=0;4>v;++v)p.push({L:!1,loaded:!1,x:l,y:v,z:t,fa:0,sa:0});d.$=new Ha((d.va=new Ia(m<<h+12+2-2)).buffer);nb(d,e,!0)}},[c]);C((e,d,h)=>{b.Ba=M(1,e*h);b.Ca=M(1,d*h);d=b.l.M;e=M(1,va(b.Ba/d));d=M(1,va(b.Ca/
d));if(e!==b.qa||d!==b.ra)b.qa=e,b.ra=d,b.m&&(b.m.T=!0,sb(b.m))},[k.offsetWidth,k.offsetHeight,ha.devicePixelRatio||1,c.M]);C(()=>{n||b.h||b.j||(b.j=1);b.h=!n},[n]);C(e=>n&&e&&la.exitPointerLock(),[b.h||b.j]);C(()=>{if(b.za&&!b.h){var e=b.g,d=wa(5,.01*(g-b.za));e.V-=.1*e.V*d;e.W-=.1*e.W*d;e.X-=.1*e.X*d;e.V+=(xa(e.A)*e.ta+ya(e.A)*e.ua)*d;e.W+=e.Fa*d;e.X+=(-ya(e.A)*e.ta+xa(e.A)*e.ua)*d;Ta(e,e.Oa*d,e.Pa*d);e.G+=e.V*d;e.H+=e.W*d;e.J+=e.X*d}if(b.m){e=b.m;++e.ya;var h=e.wa,m=e.Ga;d=e.i;const ia=d.l,q=d.g,
L=d.qa,N=d.ra,I=d.s;if(!d.h||e.T){e.T=!1;const U=m.data,Lb=ia.N;var p=q.A,l=q.ga;const Mb=q.O,Nb=q.K,Ob=q.P;var t=q.G,v=q.H,r=q.J;const Pb=I.$;var x=I.o;const Qb=ia.U&&null!==qb;var u=1/L,H=1/N,A=L>>1;const V=N>>1,ab=wa(L,N),bb=32<ab,cb=xa(p);p=ya(p);const db=xa(-l);l=ya(-l);var W=ia.ea/45;const Rb=u*(L<N?W*L*H:W);u=H*(N<L?W*N*u:W);t+=65536;v+=65536;r+=65536;H=t%1;W=v%1;const Sb=r%1;x=4+x;const eb=(1<<x)-1;let fb=5,R=q.O=q.P=q.ha=0;q.K=-1;for(let oa=0;oa<N;++oa){var pa=(V-oa)*u;const gb=pa*db-l;var za=
pa*l+db;pa=za*p;za*=cb;for(let qa=0;qa<L;++qa){var ja=(qa-A)*Rb;const hb=pa+cb*ja;ja=za-p*ja;let ka=16757124,ra=1,ib=Lb;for(let y=0;3>y;++y){let E=ja;0===y&&(E=hb);1===y&&(E=gb);var S=1/(0>E?-E:E);const sa=hb*S,T=gb*S;S*=ja;const jb=Da(sa*sa+T*T+S*S);var B=Sb;0===y&&(B=H);1===y&&(B=W);0<E&&(B=1-B);let X=t+sa*B,Y=v+T*B,Z=r+S*B;B*=jb;0===y&&(X+=.5-(0>E|0));1===y&&(Y+=.5-(0>E|0));2===y&&(Z+=.5-(0>E|0));for(let Aa,Ba,Ca,F;B<ib;X+=sa,Y+=T,Z+=S,B+=jb)if(65536>Y){if(0>T)break}else if(65600<=Y){if(0<T)break}else if(0!==
(F=Pb[((Aa=X&eb)<<x|(Ca=Z&eb))<<6|(Ba=Y&63)])){oa===V&&qa===A&&B<=fb&&(q.O=Aa,q.K=Ba,q.P=Ca,q.ha=0>E|y<<1,fb=B);if(Qb){--F;1===y?6===F?F=25:13===F?F=4:1===F&&0<T&&(F=2):1===F&&(F=24);const kb=qb[F<<8|(16*(1===y?Z:Y)&15)<<4|16*(1===y?X:(0<E?X-Z:Z-X)+65536.5)&15];if(0===kb>>>24)continue;ka=kb&16777215}else ka=Qa[F];ib=B;ra=(0===y?.8:2===y?.6:0<E?.4:1)+(Ba!==Nb||Aa!==Mb||Ca!==Ob?0:.2);break}}U[R]=(ka&255)*ra;U[++R]=(ka>>8&255)*ra;U[++R]=(ka>>16)*ra;R+=2}}bb||(U[R=L*V+A<<2]+=128,U[++R]+=128,U[++R]+=128);
h.putImageData(m,0,0);bb&&(m=ua(.05*ab),h.fillRect(A-m,V-1,m<<1,2),h.fillRect(A-1,V-m,2,m-1),h.fillRect(A-1,V+1,2,m-1))}d.ka?(h=1<<4+I.o,0>q.K?A=0:(A=q.K,A=q.O+" "+q.K+" "+q.P+" "+Sa[q.ha]+": "+(0>A||63<A?0:I.$[(q.O<<I.o+4|q.P)<<6|A])),d="Minicraft 0.5.5 "+K(e.La).toString().padStart(2,"\u00a0")+" fps, T: "+K(24*d.Da).toString().padStart(2,"0")+":"+K(24*d.Da%1*60).toString().padStart(2,"0")+"; "+(d.h&&500>g%1E3?"":d.time)+"\nR: "+L+"x"+N+" (x"+ia.M+"), D: "+ia.N+", C: "+I.aa+"/"+I.ja.length+", M: "+
(h*h*64>>10)+"k\nE: 0/0\n\nPosition: "+q.G.toFixed(2)+" "+q.H.toFixed(2)+" "+q.J.toFixed(2)+"\nAngle: "+(q.A*ta).toFixed(2)+" "+(q.ga*ta).toFixed(2)+"\nBlock: "+A+"\nChunk abs: "+(K(q.G)>>4)+" "+(K(q.J)>>4)+" "+(K(q.H)>>4)+" rel: "+I.ma+" "+I.oa+" "+I.na):d="";e.Ja=d}b.za=g},[g]);ca();return[G("canvas",{R:D(e=>wb(b,e))}),2!==b.j&&da(Pa,{v:b.v,Ea:g}),b.m&&b.ka&&G("div[className=diagnostics]",{innerText:b.m.Ja}),b.la&&da(Ib,{i:b,Aa:b.Aa}),1===b.j&&da(Cb,{actions:a,l:c,i:b}),2===b.j&&da(Eb,{i:b,v:b.v})]}
const Kb={init:()=>{const a={U:!0,ba:3,M:10,ea:80,N:64};var c=Ga.getItem("minicraft.config");if(c){c=Fa.parse(c);let f=c.flag_textures;null!=f&&(a.U=f);null!=(f=c.mouse_sensitivity)&&(a.ba=f);a.M=c.resolution_scaling;a.ea=c.view_angle;a.N=c.view_distance}return{l:a}},Va:a=>{const c=a.l;Ga.setItem("minicraft.config",Fa.stringify({version:"0.5.5",flag_textures:c.U,mouse_sensitivity:c.ba,resolution_scaling:c.M,view_angle:c.ea,view_distance:c.N}));return a},Ua:(a,c)=>Kb.Ia(a,c(a.l)),Ia:(a,c)=>Object.assign({},
a,{l:Object.assign({},a.l,c)})};w.init(()=>{const [a,c]=ba(Kb),f=D({i:null});C(()=>{onbeforeunload=()=>{c.Va();if(f.i){var g=f.i.s;for(const k of g.B)k.L&&pb(g,k)}}});const b=D(g=>"INPUT"===g.target.tagName||!f.i||(g.preventDefault(),Bb(f.i,g.keyCode,"keydown"===g.type),f.i.la=!1));return[{onkeydown:b,onkeyup:b,oncontextmenu:Na,ondragstart:Na},[da(Jb,{actions:c,l:a.l,Xa:f})]]});
