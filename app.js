const n=lui,ha=n.hook_callback,ia=n.hook_dom,q=n.hook_effect,ja=n.hook_memo,ka=n.hook_reducer,la=n.hook_rerender,u=n.hook_static,ma=n.node,v=n.node_dom,na=n.now,y=Math,F=y.PI,oa=180/F,O=y.floor,pa=y.round,qa=y.min,P=y.max,Q=y.cos,U=y.sin,Ba=JSON,Ca=localStorage,Da=()=>!1,Ea=[()=>{const a={B:!0,A:10,M:80,J:64};var c=Ca.getItem("minicraft.config");if(c){c=Ba.parse(c);let d=c.flag_textures;void 0!==d&&(a.B=d);a.A=c.resolution_scaling;a.M=c.view_angle;a.J=c.view_distance}return{h:a}},a=>{const c=a.h;
Ca.setItem("minicraft.config",Ba.stringify({version:"0.1.14",flag_textures:c.B,resolution_scaling:c.A,view_angle:c.M,view_distance:c.J}));return a},(a,c)=>Object.assign({},a,{h:Object.assign({},a.h,c)})];
function Fa({h:a,aa:c,m:d}){ia("div[className=menu]");return[v("h1[innerText=Men\u00fc]"),v("div[className=settings]",null,[v("button",{innerText:"Oberfl\u00e4chen: "+(a.B?"Texturiert":"Einfarbig"),onclick:ha(g=>{c(2,{B:!g})},[a.B])}),v("label[innerText=Aufl\u00f6sung:]",null,[v("input[type=range][min=1][max=100][step=1]",{value:101-a.A,onchange:u(g=>c(2,{A:101-Number(g.target.value)}))})]),v("label[innerText=Blickwinkel:]",null,[v("input[type=range][min=1][max=180][step=1]",{value:a.M,onchange:u(g=>
c(2,{M:Number(g.target.value)}))})]),v("label[innerText=Sichtweite:]",null,[v("input[type=range][min=1][max=128][step=1]",{value:a.J,onchange:u(g=>c(2,{J:Number(g.target.value)}))})])]),v("div",null,[v("button[innerText=Zur\u00fcck]",{onclick:u(()=>{d.l=d.U=!1})})])]}
const Ga=[0,7960953,5420927,3757176,8553090,5077911,4539717,31E5,2261551,8424632,14145495],Ha="WEBTSN".split(""),Ja=()=>{const a={o:Ia(),pa:8,qa:32,ra:8};for(var c=0;16>c;c+=2)a.o[1024+(c<<4)]=3,a.o[1024+c]=3;["X   XXX XXX XXX","X     X X X   X","X   XXX XXX XXX","X     X X     X","XXX XXX X   XXX"].forEach((d,g,e)=>{g=e.length-g;d.split("").forEach((k,b)=>{"X"===k&&(a.o[1024+(b+1<<4)+g]=6)})});for(c=0;c<Ga.length;++c)a.o[(c<<4)+1287]=c;return a},Ia=()=>{const a=new Uint8Array(16384),c=[6,3,3,3,2];
for(let d=-1,g=0;g<c.length;++g){const e=c[g];for(let k=0;16>k;++k)for(let b=0;16>b;++b)a[++d]=e}return a};let V=null,W=new Image;W.onload=()=>{var a=document.createElement("canvas");const c=a.width=W.width,d=a.height=W.height;a=a.getContext("2d");a.drawImage(W,0,0);W=V=new Uint32Array(a.getImageData(0,0,c,d).data.buffer)};W.src="data:image/png;base64,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";
const La=(a,c)=>{const d={canvas:c,ha:null,ia:null,ja:"",T:!1,ka:0,ba:0,ma:setInterval(()=>{d.ka=d.ba;d.ba=0},1E3),m:a};Ka(d);return d},Ka=a=>{var c=a.canvas.width=a.m.Y,d=a.canvas.height=a.m.Z;a=(a.ia=(a.ha=a.canvas.getContext("2d")).createImageData(c,d)).data;c=a.length;for(d=3;d<c;d+=4)a[d]=255},Ma=()=>({h:null,P:!1,U:!1,l:!1,ca:0,g:{K:0,N:0,L:0,V:0,W:10,X:0,D:0,G:0,H:0,s:0,$:0,u:0,j:-1,v:0,O:0},i:null,da:1,ea:1,Y:0,Z:0,la:null,time:0,fa:0,ga:Ja()}),Oa=(a,c)=>{onmousemove=d=>{a.l||(a.g.s=2*(d.clientX/
a.da-.5)*F,a.g.$=(.5-d.clientY/a.ea)*F)};onmousedown=onmouseup=d=>a.l||(Na(a,-1-d.button,"mousedown"===d.type),d.preventDefault(),!1);a.i=La(a,c);a.la=setInterval(()=>{a.l||(a.time=(a.time+1)%24E3,a.fa=1/24E3*(a.time+6E3)%1)},50)},Na=(a,c,d)=>{if(d)switch(c){case -1:0<=a.g.j&&(a.ga.o[(a.g.j<<8)+(a.g.u<<4)+a.g.v]=0);break;case -3:if(0<=a.g.j){c=a.g.u;d=a.g.j;let g=a.g.v;switch(a.g.O){case 0:--c;break;case 1:++c;break;case 2:--d;break;case 3:++d;break;case 4:--g;break;default:++g}0<=d&&64>d&&(a.ga.o[(d<<
8)+((c&15)<<4)+(g&15)]=9)}break;case 27:a.l=a.U=!a.U;break;case 16:a.g.N=-.1;break;case 32:a.g.N=.1;break;case 65:a.g.K=-.1;break;case 68:a.g.K=.1;break;case 80:a.l=!a.l;break;case 83:a.g.L=-.1;break;case 87:a.g.L=.1;break;case 114:a.P=!a.P;break;default:return!0}else switch(c){case 16:case 32:a.g.N=0;break;case 65:case 68:a.g.K=0;break;case 83:case 87:a.g.L=0;break;default:return!0}return!1};
function Pa({h:a,aa:c,na:d}){const g=ia("div[className=game]"),e=ja(Ma);q(()=>(d.m=e,()=>{onmousemove=onmousedown=onmouseup=null;clearInterval(e.la);clearInterval(e.i.ma);return d.m=null}));q(()=>{e.h=a;e.i&&(e.i.T=!0)},[a]);q((k,b)=>{e.da=P(1,k);e.ea=P(1,b);b=e.h.A;k=P(1,pa(e.da/b));b=P(1,pa(e.ea/b));if(k!==e.Y||b!==e.Z)e.Y=k,e.Z=b,e.i&&(e.i.T=!0,Ka(e.i))},[g.offsetWidth,g.offsetHeight,a.A]);q(k=>{if(e.ca&&!e.l){var b=e.g,h=qa(5,.01*(k-e.ca));b.D-=.1*b.D*h;b.G-=.1*b.G*h;b.H-=.1*b.H*h;b.D+=(Q(b.s)*
b.K+U(b.s)*b.L)*h;b.G+=b.N*h;b.H+=(-U(b.s)*b.K+Q(b.s)*b.L)*h;b.V+=b.D*h;b.W+=b.G*h;b.X+=b.H*h}if(e.i){b=e.i;++b.ba;var z=b.ia;h=b.m;const G=h.h,f=h.g,t=h.Y,w=h.Z;var H=h.ga;if(!h.l||b.T){b.T=!1;const A=z.data,Qa=G.J;var I=f.s,J=f.$;const Ra=f.u,Sa=f.j,Ta=f.v,Ua=G.B&&null!==V,ra=1/t,sa=1/w,X=t>>1,Y=w>>1,ta=Q(I);I=U(I);const ua=Q(-J);J=U(-J);var B=G.M/45;const Va=t<w?B*t*sa:B;B=w<t?B*w*ra:B;const va=f.V+65536,wa=f.W+65536,xa=f.X+65536,Wa=va%1,Xa=wa%1,Ya=xa%1;let x=f.u=f.v=f.O=0;f.j=-1;for(let R=0;R<
w;++R){var K=(Y-R)*sa*B;const ya=K*ua-J;K=K*J+ua;for(let S=0;S<t;++S){var L=(S-X)*ra*Va;const za=K*I+L*ta;L=K*ta-L*I;let M=16757124,T=1,Aa=Qa;for(let m=0;3>m;++m){let r=L;0===m&&(r=za);1===m&&(r=ya);const C=1/(0>r?-r:r),Z=za*C,aa=ya*C,ba=L*C;var p=Ya;0===m&&(p=Wa);1===m&&(p=Xa);0<r&&(p=1-p);let D=va+Z*p,N=wa+aa*p,E=xa+ba*p;p*=C;0===m&&(D+=.5-(0>r|0));1===m&&(N+=.5-(0>r|0));2===m&&(E+=.5-(0>r|0));let ca,da,ea;for(var l;p<Aa;){l=ca=D&15;var fa=da=N&65535,Za=ea=E&15;if(0===(l=0>fa||64<=fa?0:H.o[(fa<<
8)+(l<<4)+Za]))D+=Z,N+=aa,E+=ba,p+=C;else{if(Ua)if(--l,1===m?6===l?l=11:1===l&&0<r&&(l=2):1===l&&(l=10),l=V[(l<<8)+((16*(1===m?E:N)&15)<<4)+(16*(1===m?D:D+E)&15)],0!==l>>>24)M=l&16777215;else{D+=Z;N+=aa;E+=ba;p+=C;continue}else M=Ga[l];Aa=p;T=1-(m+2)%3*.2+(da!==Sa||ca!==Ra||ea!==Ta?0:.1);R===Y&&S===X&&5>=p&&(f.u=ca,f.j=da,f.v=ea,f.O=0>r|m<<1);break}}}A[x]=(M&255)*T;A[++x]=(M>>8&255)*T;A[++x]=(M>>16)*T;x+=2}}A[x=t*Y+X<<2]*=2;A[++x]*=2;A[++x]*=2;b.ha.putImageData(z,0,0)}h.P?(0>f.j?H=0:(z=f.j,H=f.u+
" "+f.j+" "+f.v+" "+Ha[f.O]+": "+(0>z||64<=z?0:H.o[(z<<8)+(f.u<<4)+f.v])),h="Minicraft 0.1.14 "+O(b.ka).toString().padStart(2,"\u00a0")+" fps, T: "+O(24*h.fa).toString().padStart(2,"0")+":"+O(24*h.fa%1*60).toString().padStart(2,"0")+"; "+(h.l&&500>k%1E3?"":h.time)+"\nR: "+t+"x"+w+" (x"+G.A+"), C: 1, D: "+G.J+"\nE: 0/0\n\nPosition: "+f.V.toFixed(2)+" "+f.W.toFixed(2)+" "+f.X.toFixed(2)+"\nAngle: "+(f.s*oa).toFixed(2)+" "+(f.$*oa).toFixed(2)+"\nBlock: "+H+"\nChunk: 0 0"):h="";b.ja=h}e.ca=k},[na()]);
la();return[v("canvas",{R:u(k=>Oa(e,k))}),e.i&&e.P&&v("div[className=diagnostics]",{innerText:e.i.ja}),e.U&&ma(Fa,{h:a,aa:c,m:e})]}n.init(()=>{const [a,c]=ka(Ea),d=u({m:null});q(()=>{onbeforeunload=()=>{c(1)}});const g=u(e=>!d.m||Na(d.m,e.keyCode,"keydown"===e.type)||(e.preventDefault(),!1));return[{onkeydown:g,onkeyup:g,oncontextmenu:Da,oa:Da},[ma(Pa,{h:a.h,aa:c,na:d})]]});
