const w=lui,z=w.hook_dom,B=w.hook_effect,ba=w.hook_memo,ca=w.hook_model,da=w.hook_rerender,C=w.hook_static,ea=w.node,F=w.node_dom,fa=w.node_map,ha=w.now,ia=window,ma=document,I=Math,na=I.PI,oa=.5*na,ua=180/na,J=I.floor,va=I.ceil,wa=I.round,xa=I.min,K=I.max,ya=I.cos,za=I.sin,Ea=I.sqrt,Fa=String.fromCharCode,Ga=JSON,Ha=localStorage,Ia=Uint8Array,Ja=Uint32Array,Ka=Map,La=setTimeout,Ma=setInterval,Na=clearInterval,M=a=>a*a,Oa=()=>!1,Pa=({I:{time:a,value:c},Fa:f})=>(z("div",{innerText:c,S:{opacity:xa(1,
1-.001*(f-a-4500))}}),null);function Qa({v:a,Fa:c}){z("div[className=messages]");const f=c-5E3;return[fa(Pa,a.slice(-10).filter(b=>b.time>f),{Fa:c})]}
const Ra=[0,8487297,4305266,4349313,8092539,5342114,7039851,3561583,4172910,6384533,15526888,10671324,8092798,16447200,4151672,1970708,8092539,9686227,9126695,15198183,5567485,14541182,7920469,662956,14936813],Sa=Ra.length,Ta="WEBTSN".split(""),Ua=(a,c,f)=>{a.A=(a.A+c+100*na)%(2*na);a.ga=K(-oa,xa(oa,a.ga+f))},Va=a=>{a+=32;33<a&&39>a?a++:38<a&&44>a?a+=2:43<a&&127>a?a+=3:126<a&&55258>a?a+=37:55295<a&&(a+=8485);return Fa(a)},Wa=a=>a-(63743<a?8517:159<a?69:46<a&&130>a?35:40<a&&46>a?34:34<a&&40>a?33:32),
Ya=()=>{var a=Xa;const c=a.length,f=new Ka,b=r=>{p=p<<1|r&1;15===++n&&(h+=Va(p),p=n=0)},g=()=>{for(let r=0;r<l;++r)b(0)},k=r=>{b(r);b(r>>1);b(r>>2);b(r>>3);b(r>>4);b(r>>5);b(r>>6);b(r>>7)},m=()=>{0===--u&&(u=1<<l++)},e=()=>{if(x)x=!1;else{let r=t.id;for(let G=0;G<l;G++)b(r>>G)}};let d=a[0],h="",p=0,n=2,l=2,u=2,v=2,t={id:v++,ia:new Ka},x=!0;k(d);f.set(d,t);for(let r=1;r<c;++r){const G=t.ia.get(d=a[r]);G?t=G:(e(),f.has(d)||(m(),g(),k(d),f.set(d,{id:v++,ia:new Ka}),x=!0),t.ia.set(d,{id:v++,ia:new Ka}),
t=f.get(d),m())}e();f.has(d)||(m(),g(),k(d));m();b(1);--l;g();return h+=Va(p<<15-n)},Za=a=>{var c=Xa;if(!a)return null;const f=a.length,b=()=>{n+=(v>>--t&1)<<l++;0===t&&(t=15,v=Wa(a.charCodeAt(u++)))};let g=[0,1],k=1,m=3,e=2,d=null;var h=null;let p=0,n=0;h=2;let l=0,u=0,v=Wa(a.charCodeAt(u++)),t=15;for(;l<h;)b();if(1===n)return null;for(n=l=0;8>l;)b();d=[n];g[2]=d;for(c[p++]=n;u<=f;){h=e;for(n=l=0;l<h;)b();if(0===n){for(n=l=0;8>l;)b();g[m]=[n];n=m++;0===--k&&(k=1<<e++)}else if(1===n)return c;h=n<
g.length?g[n]:d.concat(d[0]);for(let x=0;x<h.length;x++)c[p++]=h[x];g[m++]=d.concat(h[0]);d=h;0===--k&&(k=1<<e++)}return null},O=new Ja(1024),Xa=new Ia(O.buffer),$a=new Ka,ab=(a,c,f,b,g)=>{const k=a.o;a.$[(c<<k+4|b)<<6|f]=g;a.B[(c>>4<<k|b>>4)<<2|f>>4].L=!0},ob=(a,c,f)=>{const b=K(xa(c.H,63),0)>>4,g=J(c.G)>>4;c=J(c.J)>>4;if(f||a.na!==b||a.ca+a.ma!==g||a.da+a.oa!==c)f=1<<a.o,a.na=b,a.ca=g-(a.ma=(65536+g)%f),a.da=c-(a.oa=(65536+c)%f),mb(a);nb(a)},mb=a=>{const c=a.ma,f=a.na,b=a.oa,g=a.o,k=`${g} ${c} ${b} ${f}`;
let m=$a.get(k);if(null==m){const e=1<<g,d=M(.5*e);$a.set(k,m=a.B.map(({x:h,y:p,z:n},l)=>{let u=M(h-c),v=M(n-b),t=M(h-c-e),x=0,r=0;t<u&&(u=t,x=-e);(t=M(h-c+e))<u&&(u=t,x=e);(t=M(n-b-e))<v&&(v=t,r=-e);(t=M(n-b+e))<v&&(v=t,r=e);return{ya:u+v+M(p-f),Ia:l,ca:x,da:r}}).filter(({ya:h})=>h<=d).sort((h,p)=>h.ya-p.ya))}a.ja=m;a.aa=0},pb=(a,c,f,b)=>`minicraft.world.${a.id}:${c}/${f}`+(0<b?"/"+b:""),qb=(a,c)=>{const f=a.va;var b=a.o;const g=c.y,k=(256<<b)-256;for(let m=0,e=-1,d=((c.x<<b+4|c.z)<<6|g)<<2;16>m;++m){for(b=
0;16>b;++b)O[++e]=f[d],O[++e]=f[++d],O[++e]=f[++d],O[++e]=f[++d],d+=13;d+=k}Ha.setItem(pb(a,c.fa,c.sa,g),Ya());c.L=!1},nb=a=>{var c=a.B,f=a.ja,b=a.ca;const g=a.da,k=f.length;for(;a.aa<k;){var m=f[a.aa++];const l=c[m.Ia];var e=l.loaded,d=l.x,h=l.y,p=l.z;const u=b+m.ca+d;m=g+m.da+p;if(!e||u!==l.fa||m!==l.sa){l.L&&qb(a,l);l.loaded=!0;var n=Za(Ha.getItem(pb(a,l.fa=u,l.sa=m,h)));if(e||0===h||n){c=a.va;b=a.o;f=(256<<b)-256;d=((d<<b+4|p)<<6|h)<<2;if(n)for(let v=0,t=-1;16>v;++v){for(e=0;16>e;++e)c[d]=O[++t],
c[++d]=O[++t],c[++d]=O[++t],c[++d]=O[++t],d+=13;d+=f}else for(p=0;16>p;++p){for(n=0;16>n;++n)c[d]=0<h?0:50397446,c[++d]=0<h?0:131843,e?(c[++d]=0,c[++d]=0,d+=13):d+=15;d+=f}if(0===(u|m|h)){for(h=1;h<Sa;++h)ab(a,h%9,7,J(h/9),h);l.L=!1}break}}}};let rb=null,sb=new Image;sb.crossOrigin="anonymous";sb.onload=()=>{var a=ma.createElement("canvas");a.width=256;a.height=26;a=a.getContext("2d");a.drawImage(sb,0,0);sb=null;rb=new Ja(a.getImageData(0,0,256,26).data.buffer)};sb.src=ASSETS+"blocks.png";
const ub=(a,c)=>{const f={xa:c,wa:null,Ha:null,Ka:"",T:!1,La:0,za:0,Wa:Ma(()=>(f.La=f.za,f.za=0),1E3),i:a};tb(f);return f},tb=a=>{var c=a.xa.width=a.i.qa,f=a.xa.height=a.i.ra;c=(a.Ha=(a.wa=a.xa.getContext("2d")).createImageData(c,f)).data;a.wa.fillStyle="rgba(255,255,255,.5)";a=c.length;for(f=3;f<a;f+=4)c[f]=255};let vb=0;
const wb=()=>{const a={$:null,va:null,B:null,ja:null,aa:0,ma:0,na:0,oa:0,id:0,ca:0,da:0,o:0,Qa:.5,Ra:8.5,Sa:.5};return{l:null,ka:!1,h:!0,la:!1,Ma:null,Aa:0,u:new Set,Ba:"",j:0,v:[],g:{ta:0,Ga:0,ua:0,A:0,ga:0,ha:0,O:0,K:-1,P:0,Y:null,Z:null,Na:9,pa:0,G:a.Qa,H:a.Ra,J:a.Sa,Oa:0,Pa:0,V:0,W:0,X:0},m:null,Ca:1,Da:1,qa:0,ra:0,Ta:null,time:0,Ea:0,s:a}},xb=(a,c)=>{a.m=ub(a,c);a.Ta=Ma(()=>{a.h||(a.time=(a.time+1)%24E3,a.Ea=1/24E3*(a.time+6E3)%1,ob(a.s,a.g,!1))},50)},P=(a,c)=>a===c?0:.1-.2*a,yb=a=>{a.g.ta=P((a=
a.u).has(-12)||a.has(65),a.has(-13)||a.has(68))},zb=a=>{a.g.Ga=P((a=a.u).has(-15)||a.has(16),a.has(-14)||a.has(32))},Ab=a=>{a.g.ua=P((a=a.u).has(-11)||a.has(83),a.has(-10)||a.has(87))},Cb=(a,c,f)=>{const b=a.u,g=a.g;if(f){if(b.has(c))return!1;b.add(c);const m=g.O;var k=g.K;f=g.P;switch(c){case -18:case -19:a.g.Oa=P(a.u.has(-18),a.u.has(-19));break;case -17:case -16:a.g.Pa=P(a.u.has(-17),a.u.has(-16));break;case -1:0<=k&&(0===g.pa?ab(a.s,m,k,f,0):Bb(a,[m,k,f],!1));break;case -2:case 71:0<=k&&(c=a.s,
g.Na=0>k||63<k?0:c.$[(m<<c.o+4|f)<<6|k]);break;case -3:if(0<=k)if(0===g.pa){c=m;switch(g.ha){case 0:--c;break;case 1:++c;break;case 2:--k;break;case 3:++k;break;case 4:--f;break;default:++f}0<=k&&64>k&&ab(a.s,c&(1<<4+a.s.o)-1,k,f&(1<<4+a.s.o)-1,g.Na)}else Bb(a,[m,k,f],!0);break;case 27:a.j?(a.h=!1,a.j=0):(a.h=!0,a.j=1);break;case -15:case -14:case 16:case 32:zb(a);break;case -12:case -13:case 65:case 68:yb(a);break;case 80:a.h=!a.h;break;case -11:case -10:case 83:case 87:Ab(a);break;case 84:if(!a.j){a.j=
2;for(const e of b)Cb(a,e,!1)}break;case 114:a.ka=!a.ka;break;default:return!1}}else{if(!b.delete(c))return!1;switch(c){case -15:case -14:case 16:case 32:zb(a);break;case -12:case -13:case 65:case 68:yb(a);break;case -11:case -10:case 83:case 87:Ab(a);break;case -18:case -19:a.g.Oa=P(a.u.has(-18),a.u.has(-19));break;case -17:case -16:a.g.Pa=P(a.u.has(-17),a.u.has(-16))}}a.Ba=[...b].join();return!0},Q=(a,c)=>{(a.v=a.v.slice(-49)).push({id:++vb,time:ha(),value:c})},Bb=(a,c,f)=>{f?a.g.Z=c:a.g.Y=c;Q(a,
`${f?"second":"first"} position: ${c.join(" ")}`)};
function Db({actions:{Ua:a,Ja:c},l:f,i:b}){z("div[className=menu]");return[F("h1[innerText=Men\u00fc]"),F("div[className=settings]",null,[F("button",{innerText:"Oberfl\u00e4chen: "+(f.U?"Texturiert":"Einfarbig"),onclick:C(()=>a(g=>({U:!g.U})))}),F("label[innerText=Aufl\u00f6sung:]",null,[F("input[type=range][min=1][max=100][step=1]",{value:101-f.M,onchange:C(g=>c({M:101-Number(g.target.value)}))})]),F("label[innerText=Blickwinkel:]",null,[F("input[type=range][min=1][max=180][step=1]",{value:f.ea,
onchange:C(g=>c({ea:Number(g.target.value)}))})]),F("label[innerText=Sichtweite:]",null,[F("input[type=range][min=1][max=128][step=1]",{value:f.N,onchange:C(g=>c({N:Number(g.target.value)}))})]),F("label[innerText=Mausempfindlichkeit:]",null,[F("input[type=range][min=1][max=15][step=1]",{value:f.ba,onchange:C(g=>c({ba:Number(g.target.value)}))})])]),F("center",null,[F("button[innerText=Zur\u00fcck]",{onclick:C(g=>(b.j=0,"mouse"===g.pointerType?b.Ma.requestPointerLock():b.h=!1))})])]}
const Eb=({I:{value:a}})=>(z("div",{innerText:a}),null);
function Fb({i:a,v:c}){z("div[className=menu terminal]");const f=C({history:null});B(b=>{b&&La(()=>f.history.scrollTop=1E9,0)},[c.length&&c[c.length-1].id]);return[F("div[className=history]",{R:C(b=>{f.history=b})},[fa(Eb,c)]),F("input[enterkeyhint=send][mozactionhint=send][name=message][required]",C({onkeydown:b=>{var g=b.keyCode;b=b.target;if(13===g){if(g=b.value)if("/"===g.charAt(0)){g=g.substr(1).split(" ");var k=g.shift();switch(k){case "clear":a.v=[];break;case "exit":a.h=!1;a.j=0;break;case "help":Q(a,
"commands: clear, exit, help, spawn, version, /regen");break;case "spawn":a.g.G=a.s.Qa;a.g.H=a.s.Ra;a.g.J=a.s.Sa;a.m.T=!0;break;case "version":Q(a,"Minicraft 0.5.6");break;case "/exit":a.g.pa=0;Q(a,"normal mouse mode");break;case "/expand":a.g.Y&&a.g.Z?k=!0:(Q(a,"selection required"),k=!1);k&&("vert"===g[0]?(a.g.Y[1]=0,a.g.Z[1]=63,Q(a,"selection expanded")):Q(a,"only vert supported"));break;case "/pos1":case "/pos2":Bb(a,[J(a.g.G),J(a.g.H),J(a.g.J)],"/pos2"===k);break;case "/regen":g=a.s;k=g.B[g.ja[g.aa=
0].Ia];Ha.removeItem(pb(g,k.fa,k.sa,k.y));k.L=!1;++k.fa;nb(g);Q(a,"regenerate chunk");a.m.T=!0;break;case "/show":Q(a,`first: ${a.g.Y?a.g.Y.join(" "):"none"}, second: ${a.g.Z?a.g.Z.join(" "):"none"}`);break;case "/wand":a.g.pa=1;Q(a,"primary+secondary button for selection");break;default:Q(a,"unknown command: "+k)}}else Q(a,"<me> "+g);b.value=""}else 27===g&&(a.h=!1,a.j=0)},R:b=>La(()=>b.focus(),0)}))]}
const Gb=[["pick",-2],["up",-14],["down",-15],["T",84],["F3",114],["...",27]],Hb=[["up",-10],["down",-11],["left",-12],["right",-13],["center",-1]],Ib=[["up",-16],["down",-17],["left",-18],["right",-19],["center",-3]];
function Jb({i:a}){const c=a.u,f=([b,g])=>F("div",{D:{code:g},F:{button:!0,[b]:!0,active:c.has(g)}});z("div[className=touch]",C({ontouchstart:b=>{b.preventDefault();const g=Number(b.target.dataset.code);if(null!=g&&Cb(a,g,!0)){const k=b.changedTouches[0].identifier,m=e=>{e.changedTouches[0].identifier===k&&(removeEventListener("touchend",m),Cb(a,g,!1))};addEventListener("touchend",m)}}}));return[F("div[className=top]",null,Gb.map(([b,g])=>F(`div[innerText=${b}]`,{D:{code:g},F:{button:!0,active:c.has(g)}}))),
F("div[className=move]",null,Hb.map(f)),F("div[className=move sec]",null,Ib.map(f))]}
function Kb({actions:a,l:c,Xa:f}){const b=ba(wb),g=ha(),k=z("div[className=game]",ba(()=>{const e=d=>0!==b.j||(b.la=!1,ma.pointerLockElement===k?b.h||Cb(b,-1-d.button,"mousedown"===d.type):b.Ma.requestPointerLock(),d.preventDefault(),!1);return{onmousedown:e,onmousemove:d=>{if(!b.h&&!b.j){const h=b.l.ba*na/K(b.Ca,b.Da);Ua(b.g,d.movementX*h,-d.movementY*h)}},onmouseup:e,ontouchstart:d=>{b.la=!0;b.j||(b.h=!1,d.preventDefault())}}})),m=ma.pointerLockElement===k;B(()=>(b.Ma=k,f.i=b,()=>{Na(b.Ta);Na(b.m.Wa);
return f.i=null}));B(()=>{b.l=c;b.m&&(b.m.T=!0);const e=b.g,d=b.s;var h=b.l.N;h=17>h?2:49>h?3:113>h?4:241>h?5:497>h?6:1009>h?7:2033>h?8:4081>h?9:8177>h?10:16369>h?11:32753>h?12:13;if(d.o!==h){if(d.B)for(var p of d.B)p.L&&qb(d,p);p=1<<(d.o=h);const n=d.B=[];for(let l=0;l<p;++l)for(let u=0;u<p;++u)for(let v=0;4>v;++v)n.push({L:!1,loaded:!1,x:l,y:v,z:u,fa:0,sa:0});d.$=new Ia((d.va=new Ja(p<<h+12+2-2)).buffer);ob(d,e,!0)}},[c]);B((e,d,h)=>{b.Ca=K(1,e*h);b.Da=K(1,d*h);d=b.l.M;e=K(1,wa(b.Ca/d));d=K(1,wa(b.Da/
d));if(e!==b.qa||d!==b.ra)b.qa=e,b.ra=d,b.m&&(b.m.T=!0,tb(b.m))},[k.offsetWidth,k.offsetHeight,ia.devicePixelRatio||1,c.M]);B(()=>{m||b.h||b.j||(b.j=1);b.h=!m},[m]);B(e=>m&&e&&ma.exitPointerLock(),[b.h||b.j]);B(()=>{if(b.Aa&&!b.h){var e=b.g,d=xa(5,.01*(g-b.Aa));e.V-=.1*e.V*d;e.W-=.1*e.W*d;e.X-=.1*e.X*d;e.V+=(ya(e.A)*e.ta+za(e.A)*e.ua)*d;e.W+=e.Ga*d;e.X+=(-za(e.A)*e.ta+ya(e.A)*e.ua)*d;Ua(e,e.Oa*d,e.Pa*d);e.G+=e.V*d;e.H+=e.W*d;e.J+=e.X*d}if(b.m){e=b.m;++e.za;var h=e.wa,p=e.Ha;d=e.i;const ja=d.l,q=d.g,
L=d.qa,N=d.ra,H=d.s;if(!d.h||e.T){e.T=!1;const U=p.data,Mb=ja.N;var n=q.A,l=q.ga;const Nb=q.O,Ob=q.K,Pb=q.P;var u=q.G,v=q.H,t=q.J;const Qb=H.$;var x=H.o;const Rb=ja.U&&null!==rb;var r=1/L,G=1/N;const V=L>>1,W=N>>1,bb=xa(L,N),cb=32<bb,db=ya(n);n=za(n);const eb=ya(-l);l=za(-l);var X=ja.ea/45;const Sb=r*(L<N?X*L*G:X);r=G*(N<L?X*N*r:X);u+=65536;v+=65536;t+=65536;G=u%1;X=v%1;const Tb=t%1;x=4+x;const fb=(1<<x)-1;let gb=5,R=q.O=q.P=q.ha=0;q.K=-1;for(let pa=0;pa<N;++pa){var qa=(W-pa)*r;const hb=qa*eb-l;var Aa=
qa*l+eb;qa=Aa*n;Aa*=db;for(let ra=0;ra<L;++ra){var ka=(ra-V)*Sb;const ib=qa+db*ka;ka=Aa-n*ka;let la=16757124,sa=1,jb=Mb;for(let y=0;3>y;++y){let D=ka;0===y&&(D=ib);1===y&&(D=hb);var S=1/(0>D?-D:D);const ta=ib*S,T=hb*S;S*=ka;const kb=Ea(ta*ta+T*T+S*S);var A=Tb;0===y&&(A=G);1===y&&(A=X);0<D&&(A=1-A);let Y=u+ta*A,Z=v+T*A,aa=t+S*A;A*=kb;0===y&&(Y+=.5-(0>D|0));1===y&&(Z+=.5-(0>D|0));2===y&&(aa+=.5-(0>D|0));for(let Ba,Ca,Da,E;A<jb;Y+=ta,Z+=T,aa+=S,A+=kb)if(65536>Z){if(0>T)break}else if(65600<=Z){if(0<T)break}else if(0!==
(E=Qb[((Ba=Y&fb)<<x|(Da=aa&fb))<<6|(Ca=Z&63)])){pa===W&&ra===V&&A<=gb&&(q.O=Ba,q.K=Ca,q.P=Da,q.ha=0>D|y<<1,gb=A);if(Rb){--E;1===y?6===E?E=25:13===E?E=4:1===E&&0<T&&(E=2):1===E&&(E=24);const lb=rb[E<<8|(16*(1===y?aa:Z)&15)<<4|16*(1===y?Y:(0<D?Y-aa:aa-Y)+65536.5)&15];if(0===lb>>>24)continue;la=lb&16777215}else la=Ra[E];jb=A;sa=(0===y?.8:2===y?.6:0<D?.4:1)+(Ca!==Ob||Ba!==Nb||Da!==Pb?0:.2);break}}U[R]=(la&255)*sa;U[++R]=(la>>8&255)*sa;U[++R]=(la>>16)*sa;R+=2}}cb||(U[R=L*W+V<<2]+=128,U[++R]+=128,U[++R]+=
128);h.putImageData(p,0,0);cb&&(p=va(.05*bb),h.fillRect(V-p,W-1,p<<1,2),h.fillRect(V-1,W-p,2,p-1),h.fillRect(V-1,W+1,2,p-1))}d.ka?(0>q.K?h=0:(h=q.K,h=q.O+" "+q.K+" "+q.P+" "+Ta[q.ha]+": "+(0>h||63<h?0:H.$[(q.O<<H.o+4|q.P)<<6|h])),d="Minicraft 0.5.6 "+J(e.La).toString().padStart(2,"\u00a0")+" fps, T: "+J(24*d.Ea).toString().padStart(2,"0")+":"+J(24*d.Ea%1*60).toString().padStart(2,"0")+"; "+(d.h&&500>g%1E3?"":d.time)+"\nR: "+L+"x"+N+" (x"+ja.M+"), D: "+ja.N+", C: "+H.aa+"/"+H.ja.length+", M: "+(64*
M(1<<4+H.o)>>10)+"k\nE: 0/0\n\nPosition: "+q.G.toFixed(2)+" "+q.H.toFixed(2)+" "+q.J.toFixed(2)+"\nAngle: "+(q.A*ua).toFixed(2)+" "+(q.ga*ua).toFixed(2)+"\nBlock: "+h+"\nChunk abs: "+(J(q.G)>>4)+" "+(J(q.J)>>4)+" "+(J(q.H)>>4)+" rel: "+H.ma+" "+H.oa+" "+H.na):d="";e.Ka=d}b.Aa=g},[g]);da();return[F("canvas",{R:C(e=>xb(b,e))}),2!==b.j&&ea(Qa,{v:b.v,Fa:g}),b.m&&b.ka&&F("div[className=diagnostics]",{innerText:b.m.Ka}),b.la&&ea(Jb,{i:b,Ba:b.Ba}),1===b.j&&ea(Db,{actions:a,l:c,i:b}),2===b.j&&ea(Fb,{i:b,
v:b.v})]}
const Lb={init:()=>{const a={U:!0,ba:3,M:10,ea:80,N:64};var c=Ha.getItem("minicraft.config");if(c){c=Ga.parse(c);let f=c.flag_textures;null!=f&&(a.U=f);null!=(f=c.mouse_sensitivity)&&(a.ba=f);a.M=c.resolution_scaling;a.ea=c.view_angle;a.N=c.view_distance}return{l:a}},Va:a=>{const c=a.l;Ha.setItem("minicraft.config",Ga.stringify({version:"0.5.6",flag_textures:c.U,mouse_sensitivity:c.ba,resolution_scaling:c.M,view_angle:c.ea,view_distance:c.N}));return a},Ua:(a,c)=>Lb.Ja(a,c(a.l)),Ja:(a,c)=>Object.assign({},
a,{l:Object.assign({},a.l,c)})};w.init(()=>{const [a,c]=ca(Lb),f=C({i:null});B(()=>{onbeforeunload=()=>{c.Va();if(f.i){var g=f.i.s;for(const k of g.B)k.L&&qb(g,k)}}});const b=C(g=>"INPUT"===g.target.tagName||!f.i||(g.preventDefault(),Cb(f.i,g.keyCode,"keydown"===g.type),f.i.la=!1));return[{onkeydown:b,onkeyup:b,oncontextmenu:Oa,ondragstart:Oa},[ea(Kb,{actions:c,l:a.l,Xa:f})]]});
